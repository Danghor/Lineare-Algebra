\chapter{Mengen und Relationen}
Die Mengenlehre ist gegen Ende des 19-ten Jahrhunderts aus dem Bestreben heraus
entstanden, die Mathematik auf eine solide Grundlage zu stellen.  Die Schaffung einer
solchen Grundlage wurde als notwendig erachtet, da der Begriff der Unendlichkeit den
Mathematikern zunehmends Kopfzerbrechen bereitete.

Begründet wurde die Mengenlehre in wesentlichen Teilen von Georg Cantor (1845 -- 1918).
Die erste Definition des Begriffs der Menge lautete etwa wie folgt \cite{cantor:1895}:
\begin{center}
Eine \emph{Menge} ist eine \emph{wohldefinierte} Ansammlung von \emph{Elementen}.
\end{center}
Das Attribut ``\emph{wohldefiniert}'' drückt dabei aus, dass wir für 
eine vorgegebene Menge $M$ und ein Objekt $x$ stets klar sein muss, ob das Objekt $x$
zu der Menge $M$ gehört oder nicht.  In diesem Fall schreiben wir \\[0.2cm]
\hspace*{1.3cm} $x \in M$ \\[0.2cm]
und lesen diese Formel als ``\emph{$x$ ist ein Element der Menge $M$}''.
Das Zeichen ``$\in$'' wird in der Mengenlehre also als zweisteliges Prädikats-Zeichen
gebraucht, für das sich eine Infix-Notation eingebürgert hat.
Um den Begriff der \emph{wohldefinierten Ansammlung von Elementen} mathematisch zu
präzisieren, führte Cantor das sogenannte \emph{Komprehensions-Axiom} ein.
Wir können dieses zunächst wie folgt formalisieren: Ist $p(x)$ eine Eigenschaft, die
ein Objekt $x$ entweder hat oder nicht, so können wir die Menge $M$ aller Objekte, welche die
Eigenschaft $p(x)$ haben, bilden.  Wie schreiben dann \\[0.2cm]
\hspace*{1.3cm} $M = \{ x \;|\; p(x) \}$ \\[0.2cm]
und lesen dies als ``$M$ ist die Menge aller $x$, auf welche die Eigenschaft $p(x)$ zutrifft''.
Eine Eigenschaft $p(x)$ ist dabei nichts anderes als eine Formel, in der die Variable $x$
vorkommt.
Wir veranschaulichen das Komprehensions-Axiom durch ein Beispiel:  Es sei $\mathbb{N}$
die Menge der natürlichen Zahlen. Ausgehend von der Menge $\mathbb{N}$  wollen wir die
Menge der \emph{geraden Zahlen} definieren. Zunächst müssen wir dazu die Eigenschaft einer
Zahl $x$,
\emph{gerade} zu sein, durch eine Formel $p(x)$ mathematisch erfassen.  Eine natürliche Zahl $x$ ist
genau dann gerade, wenn es eine natürliche Zahl $y$ gibt, so dass $x$ das Doppelte von $y$
ist.  Damit können wir die Eigenschaft $p(x)$ folgendermaßen
definieren: \\[0.2cm]
\hspace*{1.3cm} $p(x) \;:=\; (\exists y\in \mathbb{N}: x = 2 \cdot y)$. \\[0.2cm]
Also kann die Menge der geraden Zahlen als \\[0.2cm]
\hspace*{1.3cm} $\{ x \;|\; \exists y\in \mathbb{N}: x = 2 \cdot y \}$ \\[0.2cm]
geschrieben werden.

Leider führt die uneingeschränkte Anwendung des Komprehensions-Axiom schnell zu
Problemen.  Betrachten wir dazu die Eigenschaft einer Menge, sich \underline{nicht} selbst zu
enthalten, wir 
setzen also $p(x) := \neg(x \in x)$ und definieren die Menge $R$ als \\[0.2cm]
\hspace*{1.3cm} $R := \{ x \;|\; \neg (x \in x) \}$.  \\[0.2cm]
Intuitiv würden wir vielleicht erwarten, dass keine Menge sich selbst enthält.  Wir wollen
jetzt zunächst für die eben definierte Menge $R$ überprüfen, wie die Dinge liegen.
Es können zwei Fälle auftreten:
\begin{enumerate}
\item Fall: $\neg (R \in R)$. Also enthält die Menge $R$ sich nicht selbst.
      Da die Menge $R$ aber als die Menge der Mengen definiert ist, die sich nicht selber
      enthalten, müsste $R$ eine Element von $R$ sein, es müsste also
      $R \in R$ gelten im Widerspruch zur Voraussetzung $\neg (R \in R)$.
\item Fall: $R \in R$. Setzen wir hier die Definition von $R$ ein, so haben wir \\[0.2cm]
      \hspace*{1.3cm}  $R \in \{ x \;|\; \neg(x \in x) \}$. \\[0.2cm]
      Dass heißt dann aber gerade $\neg (R \in R)$ und steht im Widerspruch zur
      Voraussetzung $R \in R$.
\end{enumerate}
Wie wir es auch drehen und wenden, es kann weder $R \in R$ noch $\neg (R \in R)$ gelten. 
Als Ausweg können wir nur feststellen, dass das vermittels \\[0.2cm]
\hspace*{1.3cm} $\{ x \mid \neg (x \in x) \}$ \\[0.2cm]
definierte Objekt keine Menge ist.
Das heißt dann aber, dass das Komprehensions-Axiom
zu allgemein ist.  Wir folgern, dass nicht jede  in der Form \\[0.2cm]
\hspace*{1.3cm} $M = \{ x \mid p(x) \}$ \\[0.2cm]
angegebene Menge wohldefiniert ist.  Die Konstruktion der ``Menge''
 ``$\{x \mid \neg(x \in x)\}$''stammt von dem britischen Logiker und Philosophen 
\href{http://de.wikipedia.org/wiki/Bertrand_Russell}{Bertrand Russell} (1872 -- 1970).  Sie wird
deswegen auch als 
\href{http://de.wikipedia.org/wiki/Russellsche_Antinomie}{\emph{Russell'sche Antinomie}}
 bezeichnet. 


Um  Paradoxien wie die Russell'sche Antinomie  zu vermeiden, ist es erforderlich, bei der
Konstruktion von Mengen vorsichtiger vorzugehen.
Wir werden im Folgenden Konstruktions-Prinzipien für Mengen vorstellen,
die schwächer sind als das Komprehensions-Axiom, die aber für die Praxis der Informatik
ausreichend sind.  Wir wollen dabei die dem Komprehensions-Axiom zugrunde liegende Notation 
beibehalten und Mengendefinitionen in der Form \\[0.2cm]
\hspace*{1.3cm} $M = \{ x \mid p(x) \}$  \\[0.2cm]
angeben.  Um Paradoxien zu vermeiden, werden wir nur bestimmte
Sonderfälle dieser Mengendefinition zulassen.  Diese Sonderfälle, sowie weitere Möglichkeiten
Mengen zu konstruieren, stellen wir jetzt vor.

\section{Erzeugung von Mengen durch explizites Auflisten}
Die einfachste Möglichkeit, eine Menge festzulegen, besteht in der expliziten
\emph{Auflistung} aller ihrer Elemente. Diese Elemente werden in den geschweiften
Klammern ``\texttt{\{}'' und ``\texttt{\}}'' eingefasst und durch Kommas getrennt.
Definieren wir beispielsweise \\[0.2cm]
\hspace*{1.3cm} $M := \{ 1, 2, 3 \}$, \\[0.2cm]
so haben wir damit festgelegt, dass die Menge $M$ aus den Elementen $1$, $2$ und $3$
besteht. In der Schreibweise des Komprehensions-Axioms können wir diese Menge als \\[0.2cm]
\hspace*{1.3cm} $M = \{ x \mid x = 1 \vee x = 2 \vee x = 3 \}$ \\[0.2cm]
angeben.
Als ein weiteres Beispiel für eine Menge, die durch explizite Aufzählung ihrer Elemente
angegeben werden kannn, betrachten wir die Menge der kleinen Buchstaben, die wir wie folgt
definieren: \\[0.2cm]
\hspace*{1.3cm} 
$\{\mathtt{a}, \mathtt{b}, \mathtt{c}, \mathtt{d}, \mathtt{e},
 \mathtt{f}, \mathtt{g}, \mathtt{h}, \mathtt{i}, \mathtt{j}, \mathtt{k}, \mathtt{l},
 \mathtt{m}, \mathtt{n}, \mathtt{o}, \mathtt{p}, \mathtt{q}, \mathtt{r}, \mathtt{s},
 \mathtt{t}, \mathtt{u}, \mathtt{v}, \mathtt{w}, \mathtt{x}, \mathtt{y}, \mathtt{z\}}$.
 \\[0.2cm]
Als letztes Beispiel betrachten wir die leere Menge $\emptyset$, die durch
Aufzählung aller ihrer Elemente definiert werden kann:
\\[0.2cm]
\hspace*{1.3cm}
$\emptyset := \{\}$.
\\[0.2cm]
Die leere Menge enthält also überhaupt keine Elemente.  Diese Menge spielt in der Mengenlehre eine
ähnliche Rolle wie die Zahl $0$ in der Zahlentheorie.

\section{Die Menge der natürlichen Zahlen}
Alle durch explizite Auflistung definierten Mengen haben offensichtlich nur endlich viele
Elemente.  Aus der mathematischen Praxis kennen wir aber auch Mengen mit unendlich vielen
Elementen.  Ein Beispiel ist die 
\href{http://en.wikipedia.org/wiki/Natural_number}{Menge der natürlichen Zahlen}, die wir mit $\mathbb{N}$
bezeichnen.  Im Gegensatz zu einigen anderen Autoren werde ich dabei die Zahl $0$ \underline{nicht}
als natürliche Zahl auffassen. 
  Mit den bisher behandelten Verfahren lässt sich die Menge $\mathbb{N}$  nicht definieren.
Wir müssen daher die Existenz dieser Menge als Axiom fordern: \\[0.2cm]
\hspace*{1.3cm} $\mathbb{N} := \{ 1, 2, 3, \cdots \}$. \\[0.2cm]
Neben der Menge $\mathbb{N}$ der natürlichen Zahlen verwenden wir noch die folgenden
Mengen von Zahlen: 
\begin{enumerate}
\item $\mathbb{N}_0$ ist die Menge der nicht-negativen ganzen Zahlen, es gilt also
      \\[0.2cm]
      \hspace*{1.3cm}
      $\mathbb{N}_0 := \{ 0 \} \cup \mathbb{N}$.
\item $\mathbb{Z}$: Menge der ganzen Zahlen.
      \\[0.2cm]
      \hspace*{1.3cm}
      $\mathbb{Z} := \{ 0, 1, -1, 2, -2, 3, -3, \cdots \}$ 

\item $\mathbb{Q}$: Menge der rationalen Zahlen.
      \\[0.2cm]
      \hspace*{1.3cm}
      $\Bigl\{ \bruch{p}{q} \mid\, p \in \mathbb{Z} \wedge q \in \mathbb{N} \Bigr\}$
\item $\mathbb{R}$: Menge der reellen Zahlen.

      Eine mathematisch saubere Definition der reellen Zahlen erfordert einiges an Aufwand.  Wir
      werden die Konstruktion der rellen Zahlen im zweiten Semester kennenlernen.
\end{enumerate}


\section{Das Auswahl-Prinzip}
Das \emph{Auswahl-Prinzip} ist eine Abschwächung des Komprehensions-Axiom.  Die Idee
ist, mit Hilfe einer Eigenschaft $p$ aus einer schon vorhandenen Menge $M$ die Menge $N$ der 
Elemente $x$ \emph{auszuwählen}, die eine bestimmte Eigenschaft $p(x)$ besitzen: \\[0.2cm]
\hspace*{1.3cm} $N = \{ x\in M \;|\; p(x) \}$ \\[0.2cm]
In der Notation des Komprehensions-Axioms schreibt sich diese Menge als \\[0.2cm]
\hspace*{1.3cm} $N = \{ x \mid x \in M \wedge p(x) \}$. \\[0.2cm]
Im Unterschied zu dem Komprehensions-Axiom können wir uns hier nur auf die Elemente einer
bereits vorgegebenen Menge $M$ beziehen und nicht auf völlig beliebige Objekte.
\vspace{0.2cm}

\noindent
\textbf{Beispiel}:
Die Menge der geraden Zahlen kann mit dem Auswahl-Prinzip als die Menge 
\\[0.2cm]
\hspace*{1.3cm}
 $\{ x \in \mathbb{N} \;|\; \exists y\in \mathbb{N}: x = 2 \cdot y \}$. 
\\[0.2cm]
geschrieben werden.

\section{Potenz-Mengen}
Um den Begriff der \emph{Potenz-Menge} einführen zu können, müssen wir zunächst 
\emph{Teilmengen} definieren.  Sind $M$ und $N$ zwei Mengen, so heißt $M$ eine
\emph{Teilmenge} von $N$ genau dann, wenn jedes Element der Menge $M$ auch ein Element der
Menge $N$ ist.  In diesem Fall schreiben wir $M \subseteq N$.  Formal können wir den
Begriff der Teilmenge durch die Formel
 \\[0.2cm]
\hspace*{1.3cm}
$M \subseteq N \;\stackrel{de\!f}{\Longleftrightarrow}\; \forall x: (x \in M \rightarrow x \in N)$ 
 \\[0.2cm]
definieren.

\example
Es gilt 
\\[0.2cm]
\hspace*{1.3cm}
$\{ 1, 3, 5\} \subseteq \{ 1, 2, 3, 4, 5 \}$
\\[0.2cm]
Weiter gilt für jede beliebige Menge $M$
\\[0.2cm]
\hspace*{1.3cm}
$\emptyset \subseteq M$. \eox


Unter der \emph{Potenz-Menge} einer Menge $M$ wollen wir nun die Menge aller Teilmengen
von $M$ verstehen.  Wir schreiben $2^M$ für die Potenz-Menge von $M$.  Dann gilt \\[0.2cm]
\hspace*{1.3cm} $2^M = \{ x \;|\; x \subseteq M \}$.
\vspace{0.2cm}

\example
Wir bilden  die Potenz-Menge der Menge $\{1,2,3\}$.  Es gilt: \\[0.2cm]
\hspace*{1.3cm} $2^{\{1,2,3\}} = \big\{ \{\},\, \{1\}, \, \{2\},\, \{3\},\, \{1,2\}, \, \{1,3\}, \, \{2,3\},\, \{1,2,3\}\big\}$. \\[0.2cm]
Diese Menge hat $8 = 2^3$ Elemente.  Allgemein kann durch \emph{Induktion} über die Anzahl der
Elemente der Menge $M$ gezeigt werden, dass die 
Potenz-Menge einer Menge $M$, die aus $m$ verschiedenen Elementen besteht, insgesamt $2^m$ 
Elemente enthält.  Bezeichnen wir die Anzahl der Elemente einer endlichen Menge mit
$\textsl{card}(M)$, so gilt also
\\[0.2cm]
\hspace*{1.3cm}
$\textsl{card}\left(2^M\right) = 2^{\textsl{card}(M)}$.
\\[0.2cm]
Dies erklärt die Schreibweise $2^M$ für die Potenz-Menge von $M$.  \eox

\section{Vereinigungs-Mengen}
Sind zwei Mengen $M$ und $N$ gegeben, so enthält die Vereinigung von $M$ und $N$ alle Elemente, die 
 in der Menge $M$ oder in der Menge $N$ liegen.  Für diese Vereinigung schreiben wir $M \cup N$.
Formal kann die Vereinigung als 
\\[0.2cm]
\hspace*{1.3cm} $M \cup N := \{ x \;|\; x \in M \vee x \in N \}$. 
\\[0.2cm] 
definiert werden.


\example 
Ist  $M = \{1,2,3\}$ und $N = \{2,5\}$, so gilt: \\[0.2cm]
\hspace*{1.3cm} $\{1,2,3\} \cup \{2,5\} = \{1,2,3,5\}$.  \eox


Der Begriff der Vereinigung von Mengen lässt sich verallgemeinern.  Betrachten
wir dazu eine Menge $X$, deren Elemente selbst wieder Mengen sind. Beispielsweise ist die Potenz-Menge 
einer Menge von dieser Art.  Wir können dann die Vereinigung aller Mengen, die Elemente
von der Menge $X$ sind, bilden.  Diese Vereinigung schreiben wir als $\bigcup X$.  Formal
kann diese Vereinigung als
\\[0.2cm]
\hspace*{1.3cm} $\bigcup X = \{ y \;|\; \exists x \in X: y \in x \}$.
\\[0.2cm]
 definiert werden:

\example
Die Menge $X$ sei wie folgt gegeben: \\[0.2cm]
\hspace*{1.3cm}
 $X = \big\{ \{\},\, \{1,2\}, \, \{1,3,5\}, \, \{7,4\}\,\big\}$. \\[0.2cm]
Dann gilt \\[0.2cm]
\hspace*{1.3cm}
 $\bigcup X = \{ 1, 2, 3, 4, 5, 7 \}$. \eox

\section{Schnitt-Menge}
Sind zwei Mengen $M$ und $N$ gegeben, so definieren wir den \emph{Schnitt} von
$M$ und $N$ als die Menge aller Elemente, die sowohl in $M$ als auch in $N$
auftreten.  Wir bezeichen den Schnitt von $M$ und $N$ mit $M \cap N$.
Formal können wir $M \cap N$ als 
\\[0.2cm]
\hspace*{1.3cm} $M \cap N := \{ x \mid x \in M \wedge x \in N \}$.
\\[0.2cm]
definieren.


\example
Wir berechnen den Schnitt der  Mengen $M = \{ 1, 3, 5 \}$ und $N = \{ 2, 3, 5, 6 \}$.  Es gilt
\\[0.2cm]
\hspace*{1.3cm} $M \cap N = \{ 3, 5 \}$
\eox

\section{Differenz-Mengen}
 Sind zwei Mengen $M$ und $N$ gegeben, so bezeichen wir die \emph{Differenz} von
 $M$ und $N$ als die Menge aller Elemente, die in $M$ aber nicht $N$
 auftreten.  Wir schreiben hierfür $M \backslash N$.  Das wird als $M$ \emph{ohne} $N$
gelesen und kann formal als
 \\[0.2cm]
\hspace*{1.3cm} $M \backslash N := \{ x \mid x \in M \wedge x \not\in N \}$. 
 \\[0.2cm] 
definiert werden.


\example
Wir berechnen die Differenz der Mengen $M = \{ 1, 3, 5, 7 \}$ und $N = \{ 2, 3, 5, 6 \}$.  Es gilt
\\[0.2cm]
\hspace*{1.3cm} $M \backslash N = \{ 1, 7 \}$. \eox

\section{Bild-Mengen}
Es sei $M$ eine Menge und $f$ sei eine Funktion, die für alle $x$ aus $M$ definiert ist.
Dann heißt die Menge aller Abbilder $f(x)$ von Elementen $x$ aus der Menge $M$ das
\emph{Bild} von $M$ unter $f$.  Wir schreiben $f(M)$ für dieses Bild.
Formal kann $f(M)$ als
 \[ f(M) := \{ y \;|\; \exists x \in M: y = f(x) \} \]
definiert werden. In der Literatur findet sich für die obige Menge auch die Schreibweise
\[ f(M) = \bigl\{ f(x) \;|\; x \in M \}. \]

\example
Die Menge $Q$ aller positiven Quadrat-Zahlen kann als 
\[ Q := \{ y \mid \exists x \in \mathbb{N}: y = x^2\} \]
definiert werden.  Alternativ können wir auch 
\[ Q = \bigl\{ x^2 \mid x \in \mathbb{N} \bigr\} \]
schreiben.
\eox


\section{Kartesische Produkte}
Um den Begriff des kartesischen Produktes einführen zu können, benötigen wir zunächst den Begriff
des geordneten Paares zweier Objekte $x$ und $y$.  Dieses wird  als \\[0.2cm]
\hspace*{1.3cm} $\langle x, y \rangle$ \\[0.2cm]
geschrieben.  Wir sagen, dass $x$ die \emph{erste Komponente} des Paares $\langle x, y \rangle$ ist, 
und $y$ ist die \emph{zweite Komponente}.  Zwei geordnete Paare $\langle x_1, y_1 \rangle$ und $\langle x_2, y_2 \rangle$
sind genau dann gleich, wenn sie komponentenweise gleich sind, d.h.~es gilt \\[0.2cm]
\hspace*{1.3cm} $\langle x_1, y_1 \rangle \,=\,\langle x_2, y_2 \rangle  \;\Leftrightarrow\; x_1 = x_2 \wedge y_1 = y_2$. \\[0.2cm]
Das kartesische Produkt zweier Mengen $M$ und $N$ ist nun die Menge aller geordneten
Paare, deren erste Komponente in $M$ liegt und deren zweite Komponente in $N$ liegt.
Das kartesische Produkt von $M$ und $N$ wird als $M \times N$ geschrieben, formal gilt: 
\[ M \times N := \big\{ z \mid \exists x\colon \exists y\colon z = \langle x,y\rangle \wedge x\in M \wedge y \in N \}. \]
Alternativ können wir auch schreiben
\[ M \times N := \big\{ \langle x,y\rangle \mid  x\in M \wedge y \in N \}. \]
\noindent
\textbf{Beispiel}:  Wir setzen $M = \{ 1, 2, 3 \}$ und $N = \{ 5, 7 \}$. Dann gilt\\[0.2cm]
\hspace*{1.3cm} 
$M \times N = \bigl\{ \pair(1,5),\pair(2,5),\pair(3,5),\pair(1,7),\pair(2,7),\pair(3,7)\bigr\}$.
\vspace{0.2cm}

Der Begriff des geordneten Paares lässt sich leicht zum Begriff des $n$-Tupels verallgemeinern:
Ein $n$-Tupel hat die Form \\[0.2cm]
\hspace*{1.3cm} $\langle x_1, x_2, \cdots, x_n \rangle$. \\[0.2cm]
Analog kann auch der Begriff des kartesischen Produktes auf $n$ Mengen $M_1$, $\cdots$, $M_n$
verallgemeinert werden. Das sieht dann so aus: \\[0.2cm]
\hspace*{1.3cm} $M_1 \times \cdots \times M_n =\big\{ z \mid \exists x_1\colon
\cdots \exists x_n \colon \; z = \langle x_1,x_2,\cdots,x_n \rangle \wedge x_1
\in M_1 \wedge \cdots \wedge x_n \in M_n \big\}$. \\[0.2cm]
Ist $f$ eine Funktion, die auf $M_1 \times \cdots \times M_n$ definiert ist,
so vereinbaren wir folgende Vereinfachung der Schreibweise: \\[0.2cm]
\hspace*{1.3cm} $f(x_1, \cdots, x_n)$ steht für $f(\langle x_1, \cdots,
x_n\rangle)$. \\[0.2cm]
Gelegentlich werden $n$-Tupel auch als \emph{endliche Folgen} oder als
\emph{Listen} bezeichnet.  

\section{Gleichheit von Mengen}
Wir haben nun alle Verfahren, die wir zur Konstruktion von Mengen benötigen, vorgestellt.
 Wir klären jetzt die Frage, wann zwei Mengen gleich sind.  Dazu
postulieren wir das folgende \emph{Extensionalitäts-Axiom} für Mengen: 
\begin{center}
 {\sl Zwei Mengen sind genau dann gleich, wenn sie dieselben Elemente besitzen.}
\end{center}
Mathematisch können wir diesen Sachverhalt durch die Formel
\\[0.2cm]
\hspace*{1.3cm} $M = N \;\leftrightarrow\; \forall x: (x \in M \leftrightarrow x \in N)$ 
\\[0.2cm]
ausdrücken.  Eine wichtige Konsequenz aus diesem Axiom ist die Tatsache, dass die Reihenfolge, mit der
Elemente in einer Menge aufgelistet werden, keine Rolle spielt.  Beispielsweise gilt \\[0.2cm]
\hspace*{1.3cm} $\{1,2,3\} = \{3,2,1\}$, \\[0.2cm]
denn beide Mengen enthalten dieselben Elemente.

Falls Mengen durch explizite Aufzählung ihrer Elemente definiert sind, ist die Frage nach
der Gleichheit zweier Mengen trivial.  Ist eine der Mengen mit Hilfe des Auswahl-Prinzips definiert, so
kann es beliebig schwierig sein zu entscheiden, ob zwei Mengen gleich sind.  Hierzu ein
Beispiel:  Es lässt sich zeigen, dass \\[0.2cm]
\hspace*{1.3cm} 
$\{ n \in \mathbb{N} \mid \exists x, y, z\in\mathbb{N}: x^n + y^n = z^n \} = \{1,2\}$ \\[0.2cm]
gilt.  Allerdings ist der Nachweis dieser Gleichheit sehr schwer, denn er ist äquivalent
zum Beweis der \emph{Fermat'schen Vermutung}. Diese Vermutung wurde 1637
von {\sl Pierre de Fermat} aufgestellt und konnte erst 1995 von Andrew Wiles bewiesen werden.
Es gibt andere, ähnlich aufgebaute Mengen, wo bis heute unklar ist, welche Elemente in der
Menge liegen und welche nicht.


\section{Rechenregeln für das Arbeiten mit Mengen}
 Vereinigungs-Menge,  Schnitt-Menge und die Differenz zweier Mengen genügen Gesetzmäßigkeiten, 
die in den folgenden Gleichungen zusammengefasst sind:
\\[0.2cm]
$\begin{array}{rlcl}
\quad 1. & M \cup \emptyset = M         & \hspace*{0.1cm} & M \cap \emptyset = \emptyset \\
2. & M \cup M = M         & \hspace*{0.1cm} & M \cap M = M          \\
3. & M \cup N = N \cup M  &  & M \cap N = N \cap M  \\
4. & (K \cup M) \cup N = K \cup (M \cup N) &  & (K \cap M) \cap N = K \cap (M \cap N) \\
5. & (K \cup M) \cap N = (K \cap N) \cup (M \cap N) &  & (K \cap M) \cup N = (K \cup N) \cap (M \cup N)  \\
6. & M \backslash \emptyset = M & & M \backslash M = \emptyset \\
7. & K \backslash (M \cup N) = (K \backslash M) \cap (K \backslash N) &&
     K \backslash (M \cap N) = (K \backslash M) \cup (K \backslash N) \\
8. & (K \cup M) \backslash N = (K \backslash N) \cup (M \backslash N) &&
     (K \cap M) \backslash N = (K \backslash N) \cap (M \backslash N) \\
9. & K \backslash (M \backslash N) = (K \backslash M) \cup (K \cap N) &&
     (K \backslash M) \backslash N = K \backslash (M \cup N) \\
10. & M \cup (N \backslash M) = M \cup N &&
      M \cap (N \backslash M) = \emptyset  \\
11. & M \cup (M \cap N) = M  &&
      M \cap (M \cup N) = M 

\end{array}$
\\[0.3cm]
Wir beweisen exemplarisch die Gleichung $K \backslash (M \cup N) = (K \backslash M) \cap (K \backslash N)$.
Um die Gleichheit zweier Mengen zu zeigen ist nachzweisen, dass beide Mengen dieselben Elemente enthalten.
Wir haben die folgende Kette von Äquivalenzen: \\[0.3cm]
\hspace*{1.3cm} $
\begin{array}{ll}
                & x \in K \backslash (M \cup N)        \\
\leftrightarrow & x \in K \;\wedge\; \neg\; x \in M \cup N \\
\leftrightarrow & x \in K \;\wedge\; \neg\; (x \in M \vee x \in N) \\
\leftrightarrow & x \in K \;\wedge\;  (\neg\; x \in M) \wedge (\neg\; x \in N) \\
\leftrightarrow & (x \in K \wedge \neg\;x \in M) \;\wedge\; (x \in K \wedge \neg\;x \in N) \\
\leftrightarrow & (x \in K \backslash M) \;\wedge\; (x \in K \backslash N) \\
\leftrightarrow & x \in (K \backslash M) \cap (K \backslash N). \\
\end{array}$ \\[0.3cm]
Wir haben beim dritten Schritt dieser Äquivalenz-Kette ausgenutzt, dass eine
Disjunktion der Form $F \vee G$ genau dann falsch ist, wenn sowohl $F$ als auch $G$ falsch ist,
formal gilt
\\[0.2cm]
\hspace*{1.3cm}
$\neg (F \vee G) \leftrightarrow \neg F \wedge \neg G$.
\\[0.2cm]
Wir werden diese Äquivalenz im Rahmen der Logik-Vorlesung noch formal beweisen.

Die übrigen der oben aufgeführten Gleichungen können nach dem selben Schema hergeleitet werden.

\exercise
Beweisen Sie die folgenden Gleichungen:
\begin{enumerate}
\item $K \backslash (M \cap N) = (K \backslash M) \cup (K \backslash N)$,
\item $M \cup (M \cap N) = M$,
\item $K \backslash (M \backslash N) = (K \backslash M) \cup (K \cap N)$,
\item $(K \backslash M) \backslash N = K \backslash (M \cup N)$. \exend
\end{enumerate} 
\vspace{0.2cm}

\noindent
Zur Vereinfachung der Darstellung von Beweisen vereinbaren wir die folgende Schreibweise:
Ist $M$ eine Menge und $x$ ein Objekt, so schreiben wir $x \notin M$  für
die Formel $\neg\; x \in M$, formal: \\[0.2cm]
\hspace*{1.3cm} $x \notin M \;\stackrel{de\!f}{\Longleftrightarrow}\; \neg\; x \in M$.
\\[0.2cm]
Eine analoge Notation verwenden wir auch für das Gleichheitszeichen:
$x \not= y \;\stackrel{de\!f}{\Longleftrightarrow}\; \neg\; (x = y)$.

\section{Binäre Relationen}
Relationen treten in der Informatik an vielen Stellen auf.  Die wichtigste
Anwendung findet sich in der Theorie der relationalen Datenbanken.
Wir betrachten im Folgenden den Spezialfall der \emph{binären Relationen} und beleuchten
das Verhältnis von binären Relationen und Funktionen. Wir werden sehen, dass wir
Funktionen als spezielle binäre Relationen auffassen können.  Damit stellt der Begriff der
binären Relationen eine Verallgemeinerung des Funktions-Begriffs dar.

Zum Abschluss des Kapitels führen wir \emph{transitive Relationen} und
\emph{Äquivalenz-Relationen} ein.  Dabei handelt es sich um grundlegende Konzepte, die jeder Informatiker
kennen muss.


\section{Binäre Relationen und Funktionen}
Ist eine Menge $R$ als Teilmenge des kartesischen Produkts zweier Mengen $M$ und $N$ gegeben, gilt
also \\[0.2cm]
\hspace*{1.3cm} $R \subseteq M \times N$, \\[0.2cm]
so bezeichnen wir $R$ auch als \emph{binäre Relation}.  In diesem Fall definieren wir den
\emph{Definitions-Bereich} von $R$ als \\[0.2cm]
\hspace*{1.3cm} $\dom(R) := \{ x \mid \exists y \in N \colon \langle x, y \rangle \in R \}$.  
\\[0.2cm]
Entsprechend wird der \emph{Werte-Bereich} von $R$ als \\[0.2cm]
\hspace*{1.3cm} $\rng(R) := \{ y \mid \exists x \in M \colon \langle x, y \rangle \in R\}$ \\[0.2cm]
definiert.  

\example
 Es sei $R = \{ \pair(1,1), \pair(2,4), \pair(3,9) \}$.  Dann gilt \\[0.2cm]
\hspace*{1.3cm} $\dom(R) = \{1,2,3\}$ \quad und \quad $\rng(R) = \{1,4,9\}$. \qed

\noindent
Das nächste, stark vereinfachte Beispiel gibt einen Vorgeschmack von der Bedeutung binärer
Relationen in der Theorie der \emph{relationalen Datenbanken}.

\example
Ein Autoverkäufer speichert in seiner Datenbank, welcher Kunde welches Auto gekauft hat.
Nehmen wir an, dass die Mengen \textsl{Auto} und \textsl{Kunde} wie folgt gegeben sind:
\\[0.2cm]
\hspace*{1.3cm}
$\textsl{Kunde} = \{ \mathrm{Bauer}, \mathrm{Maier}, \mathrm{Schmidt} \}$
\quad und \quad
$\textsl{Auto} = \{ \mathrm{Polo}, \mathrm{Fox}, \mathrm{Golf} \}$.
\\[0.2cm]
Dann könnte die binäre Relation 
\\[0.2cm]
\hspace*{1.3cm}
$\textsl{Verkauf} \subseteq \textsl{Kunde} \times \textsl{Auto}$
\\[0.2cm]
beispielsweise durch die folgende Menge gegeben sein:
\\[0.2cm]
\hspace*{1.3cm}
$\{ \pair(\mathrm{Bauer}, \mathrm{Golf}), \pair(\mathrm{Bauer}, \mathrm{Fox}), \pair(\mathrm{Schmidt}, \mathrm{Polo})\}$.
\\[0.2cm]
Diese Relation würde ausdrücken, dass der Kunde Bauer einen Golf und einen Fox erworben
hat, der Kunde Schmidt hat einen Polo gekauft und Maier hat bisher noch kein Auto erworben.
In der Theorie der Datenbanken werden Relationen üblicherweise in Form von Tabellen
dargestellt. Die oben angegebene Relation hätte dann die folgende Form:
\begin{center}
  \begin{tabular}[c]{|l|l|}
\hline
\textsl{Kunde} & \textsl{Auto} \\
\hline
\hline
  Bauer   & Golf \\
\hline
  Bauer   & Fox  \\
\hline
  Schmidt & Polo \\
\hline
  \end{tabular}
\end{center}
Die oberste Zeile, in der wir die Spalten-Überschriften \textsl{Kunde} und \textsl{Auto}
angeben,  gehört selbst nicht zu der Relation, sondern wird als \emph{Relationen-Schema}
bezeichnet und die Relation zusammen mit ihrem Relationen-Schema nennen wir \emph{Tabelle}.  


\subsection{Links- und Rechts-Eindeutige Relationen}
Wir nennen eine Relation $R \subseteq M \times N$ 
\emph{rechts-eindeutig}, wenn folgendes gilt: \\[0.2cm]
\hspace*{1.3cm} 
$\forall x \el M \colon \forall y_1, y_2 \el N \colon \bigl(\langle x, y_1 \rangle \in R \wedge \langle x, y_2 \rangle \in R \rightarrow y_1 = y_2\bigr)$.
\\[0.2cm]
Bei einer rechts-eindeutigen Relation $R \subseteq M \times N$ gibt es also zu jedem $x\in M$ höchstens ein $y \in N$ so,
dass $\langle x, y \rangle \in R$ gilt.  Entsprechend nennen wir eine Relation $R \subseteq M \times N$ 
\emph{links-eindeutig}, wenn gilt: \\[0.2cm]
\hspace*{1.3cm} 
$\forall y \el N \colon \forall x_1, x_2 \el M \colon \bigl(\langle x_1, y \rangle \in R \wedge \langle x_2, y \rangle \in R \rightarrow x_1 = x_2\bigr)$.
\\[0.2cm]
Bei einer links-eindeutigen Relation $R \subseteq M \times N$ 
gibt es also zu jedem $y\in N$ höchstens ein $x \in M$ so,
dass $\langle x, y \rangle \in R$ gilt.
\vspace{0.2cm}

\noindent
\textbf{Beispiele}: Es sei $M = \{1,2,3\}$ und $N = \{4,5,6\}$.
\begin{enumerate}
\item Die Relation $R_1$ sei definiert durch \\[0.2cm]
      \hspace*{1.3cm} $R_1 = \{ \pair(1,4), \pair(1,6) \}$. \\[0.2cm]
      Diese Relation ist \underline{nicht} rechts-eindeutig, denn  $4 \not= 6$.
      Die Relation ist links-eindeutig, denn die rechten Seiten aller in $R_1$
      auftretenden Tupel sind verschieden.
\item Die Relation $R_2$ sei definiert durch \\[0.2cm]
      \hspace*{1.3cm} $R_2 = \{ \pair(1,4), \pair(2,6) \}$. \\[0.2cm]
      Diese Relation ist rechts-eindeutig, denn die linken Seiten aller in $R_2$ auftretenden
      Tupel sind verschieden.  Sie ist auch links-eindeutig, denn die rechten Seiten aller
      in $R_2$ auftretenden Tupel sind verschieden. 
\item Die Relation $R_3$ sei definiert durch \\[0.2cm]
      \hspace*{1.3cm} $R_3 = \{ \pair(1,4), \pair(2,6), \pair(3,6) \}$. \\[0.2cm]
      Diese Relation ist rechts-eindeutig, denn die linken Seiten aller in $R_2$       auftretenden
      Tupel sind verschieden.  Sie ist nicht links-eindeutig, denn es gilt
      $\pair(2,6) \el R$ und $\pair(3,6) \el R$, aber $2 \not= 3$.
\end{enumerate}

\subsection{Links- und Rechts-Totale Relationen}
Eine binäre Relation $R \subseteq M \times N$ heißt \emph{links-total auf $M$}, wenn \\[0.2cm]
\hspace*{1.3cm} $\forall x \in M \colon \exists y \in N \colon \pair(x,y) \in R$ \\[0.2cm]
gilt. Dann gibt es für alle $x$ aus der Menge $M$ ein $y$ aus der Menge $N$, so dass
$\pair(x,y)$ in der Menge  $R$ liegt.  Die Relation $R_3$ aus dem letzten Beispiel ist
links-total, denn jedem Element aus $M$ wird durch $R_3$ ein Element aus $N$ zugeordnet.

Analog nennen wir eine binäre Relation $R \subseteq M \times N$  \emph{rechts-total auf $N$}, wenn \\[0.2cm]
\hspace*{1.3cm} $\forall y \in N \colon \exists x \in M \colon \pair(x,y) \in R$ \\[0.2cm]
gilt. Dann gibt es für alle $y$ aus der Menge $N$ ein $x$ aus der Menge $M$, so dass
$\pair(x,y)$ in der Menge  $R$ liegt.  Die Relation $R_3$ aus dem letzten Beispiel ist
nicht rechts-total, denn dem Element $5$ aus $N$ wird durch $R_3$ kein Element aus $M$
zugeordnet, denn für alle $\pair(x,y) \in R_3$ gilt $y \not= 5$.

\subsection{Funktionale Relationen}
Eine Relation $R \subseteq M \times N$, die sowohl links-total auf $M$ als auch rechts-eindeutig
ist, nennen wir eine \emph{funktionale} Relation auf $M$.  Ist $R \subseteq M \times N$ eine
funktionale Relation, so können wir eine Funktion $f_R\colon M \rightarrow N$ wie folgt
definieren: \\[0.2cm]
\hspace*{1.3cm} $f_R(x) := y \;\stackrel{de\!f}{\Longleftrightarrow}\; \pair(x,y) \in R$. \\[0.2cm]
Diese Definition funktioniert, denn aus der Links-Totalität von $R$ folgt, dass es für
jedes $x\in M$ auch ein $y \in N$ gibt, so dass $\pair(x,y) \in R$ ist.  Aus der
Rechts-Eindeutigkeit von $R$ folgt dann, dass dieses $y$ eindeutig bestimmt ist.
Ist umgekehrt eine Funktion \mbox{$f:M \rightarrow N$} gegeben, so können wir dieser Funktion
eine Relation $\textsl{graph}(f) \subseteq M \times N$ zuordnen, indem wir definieren: 
\[ \textsl{graph}(f) := \bigl\{ \pair(x,f(x)) \mid  x\in M \bigr\}. \]
Die so definierte Relation $\textsl{graph}(f)$ ist links-total, denn die Funktion $f$
berechnet ja für jedes $x \el M$ ein Ergebnis und die Relation ist rechts-eindeutig,
denn die Funktion berechnet für jedes Argument immer nur ein Ergebnis.

Aufgrund der gerade diskutierten Korrespondenz zwischen Funktionen und Relationen
werden wir daher im Folgenden alle Funktionen als spezielle binäre Relationen auffassen.
Für die Menge aller Funktionen von $M$ nach $N$ schreiben wir auch $N^M$, genauer
definieren wir
\[ N^M := \{ R \subseteq M \times N \mid \mbox{$R$ funktional}\, \}. \]
Diese Schreibweise erklärt sich wie folgt: Sind $M$ und $N$ endliche Mengen mit $m$
bzw.~$n$ Elementen, so gibt es genau $n^m$ verschiedene Funktionen von $M$ nach $N$, es
gilt also
\[ \textsl{card}\left(N^M\right) = \textsl{card}(N)^{\textsl{card}(M)}. \]
Wir werden daher funktionale Relationen und die entsprechenden Funktionen identifizieren.
Damit ist dann für eine funktionale Relation $R \subseteq M \times N$ und ein $x \in M$
auch die Schreibweise $R(x)$ zulässig: Mit $R(x)$ bezeichnen wir das eindeutig bestimmte $y \in N$,
für das $\pair(x,y) \in R$ gilt.

\examples
\begin{enumerate}
\item Wir setzen $M = \{1,2,3\}$, $N = \{1,2,3,4,5,6,7,8,9\}$ und definieren \\[0.2cm]
      \hspace*{1.3cm} $R := \{ \pair(1,1),\pair(2,4),\pair(3,9) \}$. \\[0.2cm]
      Dann ist $R$ eine funktionale Relation auf $M$.  Diese Relation berechnet
      gerade die Quadrat-Zahlen auf der Menge $M$.
\item Diesmal setzen wir $M = \{1,2,3,4,5,6,7,8,9\}$ und $N = \{1,2,3\}$ und definieren \\[0.2cm]
      \hspace*{1.3cm} $R := \{ \pair(1,1),\pair(4,2),\pair(9,3) \}$. \\[0.2cm]
      Dann ist $R$ keine funktionale Relation auf $M$, denn $R$ ist nicht links-total auf
      $M$.  Beispielsweise wird das Element $2$ von der Relation $R$ auf kein Element aus 
      $N$ abgebildet.
\item Wir setzen nun  $M = \{1,2,3\}$, $N = \{1,2,3,4,5,6,7,8,9\}$ und definieren \\[0.2cm]
      \hspace*{1.3cm} $R := \{ \pair(1,1),\pair(2,3),\pair(2,4),\pair(3,9) \}$ \\[0.2cm]
      Dann ist $R$ keine funktionale Relation auf $M$, denn $R$ ist nicht rechts-eindeutig auf
      $M$.  Das liegt daran, dass das Element $2$ von der Relation $R$ sowohl auf $3$ als
      auch auf $4$ abgebildet wird.
\end{enumerate}
Ist $R \subseteq M \times N$ eine binäre Relation und ist weiter $X \subseteq M$, so
definieren wir das \emph{Bild von $X$ unter $R$} als \\[0.2cm]
\hspace*{1.3cm} $R(X) := \{ y \mid \exists x \in X \colon \pair(x,y) \in R \}$. 

\subsection{Inverse Relation}
Zu einer  Relation $R \subseteq M \times N$ definieren wir die \emph{inverse} Relation 
$R^{-1} \subseteq N \times M$ wie folgt: \\[0.2cm]
\hspace*{1.3cm} $R^{-1} := \bigl\{ \pair(y,x) \mid \pair(x,y) \in R  \bigr\}$. \\[0.2cm]
Aus dieser Definition folgt sofort, dass $R^{-1}$ rechts-eindeutig ist genau dann, wenn
$R$ links-eindeutig ist.  Außerdem ist $R^{-1}$ links-total genau dann, wenn $R$
rechts-total ist.  Ist eine Relation sowohl links-eindeutig als auch rechts-eindeutig und
außerdem sowohl links-total als auch rechts-total, so nennen wir sie auch \emph{bijektiv}.
In diesem Fall lässt sich neben der Funktion
$f_R$ auch eine Funktion $f_{R^{-1}}$ definieren.  Die Definition der letzten Funktion
lautet ausgeschrieben: \\[0.2cm]
\hspace*{1.3cm} $f_{R^{-1}}(y) := x \;\stackrel{de\!f}{\Longleftrightarrow}\; \pair(y,x) \in R^{-1} \Longleftrightarrow \pair(x,y) \in R$. \\[0.2cm]
Diese Funktion ist dann aber genau die Umkehr-Funktion von $f_R$, es gilt \\[0.2cm]
\hspace*{1.3cm}
 $\forall y \in N \colon f_R\bigl(f_{R^{-1}}(y)\bigr) = y$ \quad und \quad
 $\forall x \in M \colon f_{R^{-1}}\bigl(f_R(x)\bigr) = x$. \\[0.2cm]
Dieser Umstand rechtfertigt im Nachhinein die Schreibweise $R^{-1}$.

\subsection{Komposition von Relationen}
Ähnlich wie wir Funktionen verknüpfen können, können auch Relationen verknüpft werden.
Wir betrachten zunächst Mengen $L$, $M$ und $N$.
Sind dort zwei Relationen $R \subseteq L \times M$ und $Q \subseteq M \times N$ definiert,
so ist das \emph{relationale Produkt} $R \circ Q$ wie folgt definiert: \\[0.2cm]
\hspace*{1.3cm}
$R \circ Q := \bigl\{ \pair(x,z) \mid \exists y \in M \colon(\pair(x,y) \in R \wedge \pair(y,z) \in Q) \bigr\}$ 
\\[0.2cm]
Offenbar gilt $R \circ Q \subseteq L \times N$.
Das relationale Produkt von $Q$ und $R$ wird gelegentlich auch als die \emph{Komposition} von
$Q$ und $R$ bezeichnet.  In der Theorie der Datenbanken werden Sie dem relationalen Produkt
wiederbegegnen, denn der 
\href{http://en.wikipedia.org/wiki/Join_(SQL)}{\emph{Join}-Operator}, der in
Datenbankabfrage-Sprachen wie 
\href{http://en.wikipedia.org/wiki/SQL}{\textsc{Sql}} benutzt wird, ist eine Verallgemeinerung des
relationalen Produkts.
\vspace{0.2cm}

\example
Es sei $L = \{1,2,3\}$, $M = \{4,5,6\}$ und $N = \{7,8,9\}$.  Weiter seien die Relationen
$Q$ und $R$ wie folgt gegeben: \\[0.2cm]
\hspace*{1.3cm} $R = \{ \pair(1,4), \pair(1,6), \pair(3,5) \}$ \quad und \quad
                $Q = \{ \pair(4,7), \pair(6,8), \pair(6,9) \}$. \\[0.2cm]
Dann gilt \\[0.2cm]
\hspace*{1.3cm} $R \circ Q = \{ \pair(1,7), \pair(1,8), \pair(1,9) \}$. \eox
\vspace{0.2cm}


\noindent
\textbf{Behauptung}:
Ist $R \subseteq L \times M$ eine funktionale Relation auf $L$ und 
ist $Q \subseteq M \times N$ eine funktionale Relation auf $M$, so ist auch 
$R \circ Q$ eine funktionale Relation auf $L$ und die Funktion $f_{R \circ Q}$
kann wie folgt aus den Funktionen $f_R$ und $f_Q$ berechnet werden:
\\[0.2cm]
\hspace*{1.3cm}
$f_{R \circ Q}(x) = f_Q\bigl(f_R(x)\bigr)$.


\exercise
Beweisen Sie diese Behauptung! \eox


\noindent
\textbf{Bemerkung}: In einigen Lehrbüchern wird das relationale Produkt, 
das wir als $R \circ Q$ definiert haben, mit $Q \circ R$
bezeichnet. Damit lautet die Definition von $R \circ Q$  dann wie folgt:
Ist $R \subseteq M \times N$ und $Q \subseteq L \times M$, dann ist 
\\[0.2cm]
\hspace*{1.3cm}
$R \circ Q := \bigl\{ \pair(x,z) \mid \exists y \in M \colon(\pair(x,y) \in Q \wedge \pair(y,z) \in R) \bigr\}$.
\\[0.2cm]
Diese Definition hat den folgenden Vorteil: Falls $R$ und $Q$ funktionale Relationen sind und wenn
dann weiter $f$ und $g$ die diesen Relationen zugeordneten Funktionen sind, wenn also 
\\[0.2cm]
\hspace*{1.3cm}
$Q = \textsl{graph}(f)$ \quad und \quad $R = \textsl{graph}(g)$
\\[0.2cm]
gilt, dann haben wir für die Komposition der Funktionen $f$ und $g$, die durch $(g \circ
f)(x) = g\bigl(f(x)\bigr)$ 
definiert ist, die Gleichung
\\[0.2cm]
\hspace*{1.3cm}
$\textsl{graph}(g \circ f) = R \circ Q = \textsl{graph}(g) \circ \textsl{graph}(f)$.
\\[0.2cm]
 Die von uns verwendete Definition hat den Vorteil, dass später die Berechnung des transitiven
Abschlusses einer Relation intuitiver wird.  \eox


\example
Das nächste Beispiel zeigt die Verwendung des relationale Produkts im Kontext einer
Datenbank.  Wir nehmen an, dass die Datenbank eines Autohändler unter anderem die
folgenden beiden Tabellen enthält.
\begin{center}
\textsl{Kauf}:  \begin{tabular}[t]{|l|l|}
\hline
\textsl{Kunde} & \textsl{Auto} \\
\hline
\hline
  Bauer   & Golf \\
\hline
  Bauer   & Fox  \\
\hline
  Schmidt & Polo \\
\hline
  \end{tabular}
\qquad \textsl{Preis}:
  \begin{tabular}[t]{|l|l|}
\hline
\textsl{Auto} & \textsl{Betrag} \\
\hline
\hline
  Golf    & $20\,000$ \\
\hline
  Fox     & $10\,000$ \\
\hline
  Polo    & $13\,000$ \\
\hline
  \end{tabular}
\end{center}
Dann ist das relationale Produkt der in den Tabellen \textsl{Kauf} und \textsl{Preis}
dargestellten Relationen durch die in der folgenden Tabelle dargestellten Relation
gegeben:

\begin{center}
  \begin{tabular}[t]{|l|l|}
\hline
\textsl{Kunde} & \textsl{Betrag} \\
\hline
\hline
  Bauer   & $20\,000$ \\
\hline
  Bauer   & $10\,000$ \\
\hline
  Schmidt & $13\,000$ \\
\hline
  \end{tabular} 
\end{center}
Diese Relation könnte dann zur Rechnungsstellung weiter verwendet werden. \eox


\subsection{Eigenschaften des relationalen Produkts}
Die Komposition von Relationen ist \emph{assoziativ}:  Sind \\[0.2cm]
\hspace*{1.3cm} $R \subseteq K \times L$, \quad $Q \subseteq L \times M$ \quad und \quad 
                $P \subseteq M \times N$ \\[0.2cm]
binäre Relationen, so gilt \\[0.2cm]
\hspace*{1.3cm} $(R \circ Q) \circ P = R \circ (Q \circ P)$. \\[0.2cm]
\textbf{Beweis}:  Wir zeigen
\begin{equation}
  \label{eq:ass0}
   \pair(x,u) \in (R \circ Q) \circ P \leftrightarrow \pair(x,u) \in R \circ (Q \circ P)   
\end{equation}
Wir formen zunächst die linke Seite $\pair(x,u) \in (R \circ Q) \circ P$ der Äquivalenz
\ref{eq:ass0} um.  Es gilt
\[
\begin{array}{cll}
                  & \pair(x,u) \in (R \circ Q) \circ P \\[0.2cm]
  \leftrightarrow & \exists z: \bigl(\pair(x,z) \in R \circ Q \wedge \pair(z,u) \in P\bigr) &
                    \mbox{nach Def. von}\; (R \circ Q) \circ P \\[0.2cm]
  \leftrightarrow & \exists z: \bigl(\bigl(\exists y: \pair(x,y) \in R \wedge \pair(y,z) \in Q\bigr) \wedge \pair(z,u) \in P\bigr) &
                    \mbox{nach Def. von}\; R \circ Q \\
\end{array}
\]
Da die Variable $y$ in der Formel $\pair(z,u) \in P$ nicht auftritt, können wir den
Existenz-Quantor über $y$ auch herausziehen, so dass wir die obige Kette von Äquivalenzen zu
\begin{equation}
  \label{eq:ass1}
  \leftrightarrow \quad 
  \exists z: \exists y: \bigl(\pair(x,y) \in R \wedge \pair(y,z) \in Q \wedge \pair(z,u) \in P\bigr)
\end{equation}
fortsetzen können.  Wir formen nun die rechte Seite der Äquivalenz
\ref{eq:ass0} um:
\[
\begin{array}{cll}
                & \pair(x,u) \in R \circ (Q \circ P) \\[0.2cm] 
\leftrightarrow & \exists y: \bigl(\pair(x,y) \in R \wedge \pair (y,u) \in Q \circ P\bigr) &
                  \mbox{nach Def. von}\; R \circ (Q \circ P) \\[0.2cm]
\leftrightarrow & \exists y: \bigl(\pair(x,y) \in R \wedge 
                  \exists z: \bigl(\pair(y,z) \in Q \wedge \pair(z,u) \in P\bigr)\bigr) &
                  \mbox{nach Def. von}\; Q \circ P \\
\end{array}
\]
Da die Variable $z$ in der Formel $\pair(x,y) \in R$ nicht vorkommt, können wir den
Existenz-Quantor über $z$ auch vorziehen und können daher diese Kette von Äquivalenzen als
\begin{equation}
  \label{eq:ass2}
  \leftrightarrow \quad
  \exists z: \exists y: \bigl(\pair(x,y) \in R \wedge \pair(y,z) \in Q \wedge \pair(z,u) \in P\bigr)
\end{equation}
fortsetzen. Die Formeln (\ref{eq:ass1}) und (\ref{eq:ass2}) sind identisch.  Damit ist die Äquivalenz
(\ref{eq:ass0}) nachgewiesen und der Beweis der Assoziativität des Kompositions-Operators
ist erbracht.  \hspace*{\fill} $\Box$
\vspace{0.2cm}

Eine weitere wichtige Eigenschaft des relationalen Produkts ist die folgende: Sind
zwei Relationen $R \subseteq L \times M$ und $Q \subseteq M \times N$ gegeben, so gilt \\[0.2cm]
\hspace*{1.3cm} $(R \circ Q)^{-1} = Q^{-1} \circ R^{-1}$. \\[0.2cm]
Beachten Sie, dass sich die Reihenfolgen von $Q$ und $R$ hier vertauschen.  Zum Beweis
ist zu zeigen, dass für alle Paare $\pair(z,x) \in N \times L$ die  Äquivalenz \\[0.2cm]
\hspace*{1.3cm} 
$\pair(z,x) \in (Q \circ R)^{-1} \quad \leftrightarrow \quad\pair(z,x) \in R^{-1} \circ Q^{-1}$ 
\\[0.2cm]
gilt.  Den Nachweis erbringen wir durch die folgende Kette von Äquivalenz-Umformungen: 
\[ 
\begin{array}{cl}
                & \pair(z,x) \in (R \circ Q)^{-1}                                             \\[0.2cm]
\leftrightarrow & \pair(x,z) \in R \circ Q                                                    \\[0.2cm]
\leftrightarrow & \exists y \in M \colon \bigl(\pair(x,y) \in R \wedge \pair(y,z) \in Q\bigr) \\[0.2cm]
\leftrightarrow & \exists y \in M \colon \bigl(\pair(y,z) \in Q \wedge \pair(x,y) \in R\bigr) \\[0.2cm]
\leftrightarrow & \exists y \in M \colon \bigl(\pair(z,y) \in Q^{-1} \wedge \pair(y,x) \in R^{-1}\bigr) 
                  \\[0.2cm]
\leftrightarrow & \pair(z,x) \in Q^{-1} \circ R^{-1}   \hspace*{\fill} \Box 
\end{array}
\]

\noindent
Wir bemerken noch, dass das folgende Distributivgesetz gilt: Sind $R_1$ und $R_2$
Relationen auf $L \times M$ und ist $Q$ eine Relation auf $M \times N$, so gilt \\[0.2cm]
\hspace*{1.3cm}  $(R_1 \cup R_2) \circ Q = (R_1 \circ Q) \cup (R_2 \circ Q)$. \\[0.2cm]
Analog gilt ebenfalls \\[0.2cm]
\hspace*{1.3cm}  $R \circ (Q_1 \cup Q_2) = (R \circ Q_1) \cup (R \circ Q_2)$, \\[0.2cm]
falls $R$ eine Relation auf $L \times M$ und $Q_1$ und $Q_2$ Relationen auf $M \times N$
sind.  Um Gleichungen der obigen Art kürzer schreiben zu können vereinbaren wir, dass der
Kompositions-Operator $\circ$ stärker bindet als $\cup$ und $\cap$.  Wir beweisen nun das
erste Distributivgesetz, indem wir 
\begin{equation}
  \label{eq:dis0}
\pair(x,z) \in (R_1 \cup R_2) \circ Q \;\leftrightarrow\; \pair(x,z) \in R_1 \circ Q \cup R_2 \circ Q   
\end{equation}
zeigen.  Wir formen zunächst den Ausdruck $\pair(x,z) \in (R_1 \cup R_2) \circ Q$ um:
\[
\begin{array}{cll}
                  & \pair(x,z) \in (R_1 \cup R_2) \circ Q  \\[0.2cm]
  \leftrightarrow & \exists y: \bigl(\pair(x,y) \in R_1 \cup R_2 \wedge \pair(y,z) \in Q\bigr) 
                  & \mbox{nach Def. von}\; (R_1 \cup R_2) \circ Q \\[0.2cm]
  \leftrightarrow & \exists y: \bigl(\bigl(\pair(x,y) \in R_1 \vee \pair(x,y) \in R_2\bigr) \wedge \pair(y,z) \in Q\bigr) 
                  & \mbox{nach Def. von}\; R_1 \cup R_2 \\[0.2cm]
\end{array}
\]
Diese Formel stellen wir mit Hilfe des Distributiv-Gesetzes der Aussagen-Logik um.
In der Aussagenlogik werden wir im Rahmen der Informatik-Vorlesung sehen, dass für beliebige Formeln
$F_1$, $F_2$ und $G$ die Äquivalenz 
\[ (F_1 \vee F_2) \wedge G \;\leftrightarrow\; (F_1 \wedge G) \vee (F_2 \wedge G) \]
gilt.  Die Anwendung dieses Gesetzes liefert:
\begin{eqnarray}
  \nonumber
  & & \exists y: \bigl(\bigl(\underbrace{\pair(x,y) \in R_1}_{F_1} \vee \underbrace{\pair(x,y) \in R_2}_{F_2}\bigr) \wedge \underbrace{\pair(y,z) \in Q}_G\bigr) 
\\[0.2cm] 
  \label{eq:dis1}
  & \leftrightarrow &
    \exists y: \bigl(\bigl(\underbrace{\pair(x,y) \in R_1}_{F_1} \wedge \underbrace{\pair(y,z) \in Q}_G \bigr) \vee 
               \bigl(\underbrace{\pair(x,y) \in R_2}_{F_2} \wedge \underbrace{\pair(y,z) \in Q}_G \bigr) \bigr)   
\end{eqnarray}
Wir formen nun den Ausdruck $\pair(x,z) \in R_1 \circ Q \cup R_2 \circ Q$ um:
\[
\begin{array}{cll}
                & \pair(x,z) \in R_1 \circ Q \cup R_2 \circ Q \\[0.2cm]
\leftrightarrow & \pair(x,z) \in R_1 \circ Q \;\vee\; \pair(x,z) \in R_2 \circ Q &
                  \mbox{nach Def. von}\;\cup \\[0.2cm]
\leftrightarrow & \bigl(\exists y: (\pair(x,y) \in R_1 \wedge \pair(y,z) \in Q)\bigr) \;\vee\; 
                  \bigl(\exists y: (\pair(x,y) \in R_2 \wedge \pair(y,z) \in Q)\bigr) \\[0.2cm]
                & \mbox{nach Def. von}\; R_1 \circ Q \; \mbox{und}\; R_2 \circ Q \\[0.2cm]
\end{array}
\]
Diese letzte Formel stellen wir mit Hilfe eines Distributiv-Gesetzes für die
Prädikaten-Logik um.  In der Prädikaten-Logik werden wir später sehen, dass für beliebige
Formeln $F_1$ und $F_2$ die Äquivalenz
\[ \exists y: \bigl(F_1 \vee F_2\bigr) \;\leftrightarrow\; \bigl(\exists y: F_1\bigr) \vee \bigl(\exists y: F_2\bigr) \]
gültig ist.  Damit folgt dann
\begin{eqnarray}
\nonumber
 & & \exists y: \bigl(\underbrace{\pair(x,y) \in R_1 \wedge \pair(y,z) \in Q}_{F_1}\bigr) \;\vee\; 
     \exists y: \bigl(\underbrace{\pair(x,y) \in R_2 \wedge \pair(y,z) \in Q}_{F_2}\bigr) \\[0.2cm]
  \label{eq:dis2}
 & \leftrightarrow &
     \exists y: \Bigl(\bigl(\underbrace{\pair(x,y) \in R_1 \wedge \pair(y,z) \in Q}_{F_1}\bigr) \;\vee\; 
                \bigl(\underbrace{\pair(x,y) \in R_2 \wedge \pair(y,z) \in Q}_{F_2}\bigr)\Bigr) 
\end{eqnarray}
Da die Formeln \ref{eq:dis1} und \ref{eq:dis2} identisch sind, ist der Beweis des
Distributiv-Gesetzes 
\\[0.2cm]
\hspace*{1.3cm}
 $(R_1 \cup R_2) \circ Q = R_1 \circ Q \cup R_2 \circ Q$
\\[0.2cm]
erbracht. \hspace*{\fill} $\Box$
\vspace{0.2cm}

\exercise
Es seien $M$, $N$ und $L$ Mengen und es gelte $R \subseteq M \times N$ und $R_1,R_2 \subseteq N \times L$. 
\begin{enumerate}
\item Beweisen oder widerlegen Sie die Gleichung
      \\[0.2cm]
      \hspace*{1.3cm}  $R \circ (Q_1 \cup Q_2) = (R \circ Q_1) \cup (R \circ Q_2)$.
\item Beweisen oder widerlegen Sie die Behauptung 
      \\[0.2cm]
      \hspace*{1.3cm}
      $R \circ (Q_1 \cap Q_2) = (R \circ Q_1) \cap (R \circ Q_2)$. \eox
\end{enumerate}

\remark
Im Folgenden weisen wir dem Operator $\circ$ eine höhere Priorität zu als den Operatoren $\cap$ und
$\cup$.  Dadurch lässt sich dann ein Gleichung wie 
\\[0.2cm]
\hspace*{1.3cm}  
$R \circ (Q_1 \cup Q_2) = (R \circ Q_1) \cup (R \circ Q_2)$.
\\[0.2cm]
einfacher als
\\[0.2cm]
\hspace*{1.3cm}  
$R \circ (Q_1 \cup Q_2) = R \circ Q_1 \cup R \circ Q_2$
\\[0.2cm]
schreiben. \eox


\subsection{Identische Relation} 
Ist $M$ eine Menge, so definieren wir die \emph{identische Relation} $\id_M \subseteq M \times M$
wie folgt: \\[0.2cm]
\hspace*{1.3cm} $\id_M := \bigl\{ \pair(x,x) \mid x \in M \bigr\}$. 
\vspace*{0.2cm}

\noindent
\textbf{Beispiel}: Es sei $M = \{1,2,3\}$.  Dann gilt \\[0.2cm]
\hspace*{1.3cm}  $\id_M := \bigl\{ \pair(1,1),  \pair(2,2),  \pair(3,3) \bigr\}$.
\vspace*{0.2cm}

\noindent
Aus der Definition folgt sofort \\[0.2cm]
\hspace*{1.3cm} $\id_M^{-1} = \id_M$. \\[0.2cm]
Sei weiterhin $R \subseteq M \times N$ und eine binäre Relation, so
gilt 
\[ R \circ \id_N = R \quad \mbox{und} \quad \id_M \circ R = R. \] 
Wir weisen die zweite Gleichung nach.  Nach Definition des relationalen Produkts
gilt
\[ \id_M \circ R = \bigl\{ \pair(x,z) \mid \exists y: \pair(x,y) \in \id_M \wedge \pair(y,z) \in R \bigr\}. \]
Nun ist $\pair(x,y) \in \id_M$ genau dann, wenn $x = y$ ist, also gilt
\[ \id_M \circ R = \bigl\{ \pair(x,z) \mid \exists y: x = y \wedge \pair(y,z) \in R \bigr\}. \]
Es gilt die folgende Äquivalenz
\[ \bigl( \exists y: x = y \wedge \pair(y,z) \in R \bigr) \leftrightarrow \pair(x,z) \in R. \]
Diese Äquivalenz ist leicht einzusehen:  Falls $\exists y: x = y \wedge \pair(y,z) \in R$
gilt, so muss das $y$ dessen Existenz gefordert wird, den Wert $x$ haben und dann gilt
natürlich auch $\pair(x,z) \in R$.  Gilt andererseits $\pair(x,z) \in R$, so definieren
wir $y := x$.  Für das so definierte $y$ gilt offensichtlich 
$x = y \wedge \pair(y,z) \in R$.  Unter Verwendung der oberen Äquivalenz haben wir 
\[ \id_M \circ R = \bigl\{ \pair(x,z) \mid \pair(x,z) \in R \bigr\}. \]
Wegen  $R \subseteq M \times N$ besteht $R$ nur aus geordneten
Paaren und daher gilt
\[ R = \bigl\{ \pair(x,z) \mid \pair(x,z) \in R \bigr\}. \]
Damit ist $\id_M \circ R = R$ gezeigt. \hspace*{\fill} $\Box$

\exercise
Es sei $R \subseteq M \times N$.  Unter welchen Bedingungen gilt 
\\[0.2cm]
\hspace*{1.3cm}
$R \circ R^{-1} = \id_M$? 
\\[0.2cm]
Unter welchen Bedingungen gilt
\\[0.2cm]
\hspace*{1.3cm}
$R^{-1} \circ R = \id_N$?
\exend
% Die erste Gleichung gilt genau dann, wenn $R$ links-total und links-eindeutig ist.


\section{Binäre Relationen auf einer Menge}
Wir betrachten im Folgenden den Spezialfall von Relationen $R \subseteq M \times N$, für
den $M = N$ gilt.  Wir definieren:
Eine Relation $R \subseteq M \times M$ heißt eine Relation \emph{auf} der Menge $M$.
Im Rest dieses Abschnittes betrachten wir nur noch solche Relationen. 
Statt $M \times M$ schreiben wir kürzer $M^2$.

Ist $R$ eine Relation auf $M$ und sind $x, y \in M$, so verwenden wir gelegentlich die
Infix-Schreibweise und schreiben statt
$\pair(x,y) \in R$ auch $x\, R\, y$.  Beispielsweise lässt sich die Relation $\leq$ 
auf $\mathbb{N}$ wie folgt definieren: \\[0.2cm]
\hspace*{1.3cm}
 $\leq\; := \{ \pair(x,y) \in \mathbb{N} \times \mathbb{N} \mid \exists z \in \mathbb{N}_0 \colon x + z = y \}$.
\\[0.2cm]
Statt $\pair(x,y) \in\; \leq$ hat sich in der Mathematik die Schreibweise $x \leq y$ eingebürgert.
  
\begin{Definition} 
Eine Relation $R \subseteq M \times M$  ist \emph{reflexiv} auf der Menge $M$ falls gilt: \\[0.2cm]
\hspace*{1.3cm} $\forall x\in M \colon \pair(x,x) \in R$. 
\end{Definition}

\begin{Satz}
Eine Relation $R \subseteq M \times M$ ist genau dann reflexiv, wenn $\mbox{\rm id}_M \subseteq R$ gilt.
\end{Satz}

\noindent
\textbf{Beweis}: Es gilt
\\[0.2cm]
\hspace*{1.3cm}
$
\begin{array}[b]{cl}
              & \id_M \subseteq R \\[0.2cm]
\mbox{g.d.w.} & \bigl\{ \pair(x,x) \mid x \in M \bigr\} \subseteq R \\[0.2cm] 
\mbox{g.d.w.} & \forall x \in M: \pair(x,x) \in R \\[0.2cm] 
\mbox{g.d.w.} & \mbox{$R$ reflexiv}  
\end{array}
$
\hspace*{\fill} $\Box$

\begin{Definition}
Eine Relation $R \subseteq M \times M$  ist \emph{symmetrisch} falls gilt: \\[0.2cm]
\hspace*{1.3cm} 
$\forall x,y\el M \colon \bigl(\pair(x,y) \in R \rightarrow\pair(y,x)\in R\bigr)$. 
\end{Definition}

\begin{Satz}
Eine Relation $R \subseteq M \times M$ ist genau dann symmetrisch, wenn $R^{-1} \subseteq R$ gilt.
\end{Satz}

\noindent
\textbf{Beweis}:
Die Äquivalenz der beiden Bedingungen wird offensichtlich, wenn wir die Inklusions-Bedingung
$R^{-1} \subseteq R$ expandieren, indem wir die Gleichungen
\[ R^{-1} = \bigl\{ \pair(y,x) \mid \pair(x,y) \in R \bigr\} \quad \mbox{und} \quad
   R      = \bigl\{ \pair(x,y) \mid \pair(x,y) \in R \bigr\} \]
berücksichtigen, denn dann hat die Inklusions-Bedingung die Form
\[ \bigl\{ \pair(y,x) \mid \pair(x,y) \in R \bigr\} \subseteq
   \bigl\{ \pair(x,y) \mid \pair(x,y) \in R \bigr\}. \]
Nach der Definition der Teilmengen-Beziehung ist diese Bedingung gleichwertig zu der Formel
\[ \forall x, y \in M \colon \bigl(\pair(y,x) \in R \rightarrow\pair(x,y) \in R\bigr). 
\]
Vertauschen wir hier die Rollen der Variablen $x$ und $y$, so ist dies gerade die Bedingung, dass
die Relation $R$ symmetrisch ist. \qed

\begin{Definition}
Eine Relation $R \subseteq M \times M$  ist \emph{anti-symmetrisch} falls gilt: \\[0.2cm]
\hspace*{1.3cm} 
$\forall x, y \in M \colon \bigl(\pair(x,y) \in R \wedge \pair(y,x) \in R \rightarrow x = y\bigr)$.
\end{Definition}

\begin{Satz}
Eine Relation $R \subseteq M \times M$  ist genau dann anti-symmetrisch, wenn
$R \cap R^{-1} \subseteq \mbox{\rm id}_{M}$ gilt.
\end{Satz}

\noindent
\textbf{Beweis}:
\begin{enumerate}
\item[``$\Rightarrow$'':]
      Wir nehmen zunächst an, dass $R$ anti-symmetrisch ist und folglich
      \[ \forall x, y \in M \colon \pair(x,y) \in R \wedge \pair(y,x) \in R \rightarrow x = y \]
      gilt und zeigen, dass aus dieser Voraussetzung die Inklusions-Beziehung
      $R \cap R^{-1} \subseteq \id_{M}$ folgt.  Sei also $\pair(x,y) \in R \cap R^{-1}$.
      Dann gilt einerseits $\pair(x,y) \in R$ und andererseits folgt aus $\pair(x,y) \in R^{-1}$,
      dass auch $\pair(y,x) \in R$ ist.  Dann folgt aber aus der Anti-Symmetrie von $R$ sofort $x=y$
      und das impliziert $\pair(x,y) \in \id_M$, womit $R \cap R^{-1} \subseteq \id_{M}$ 
      gezeigt ist.
\item[``$\Leftarrow$'':]
      Wir nehmen nun an, dass $R \cap R^{-1} \subseteq \id_{M}$ gilt und zeigen, dass daraus
      die Gültigkeit von 
      \[ \forall x, y \in M \colon \pair(x,y) \in R \wedge \pair(y,x) \in R \rightarrow x = y \]
      folgt.  Seien also $x,y \in M$ und es gelte $\pair(x,y) \in R$ und $\pair(y,x) \in R$.
      Wir müssen zeigen, dass daraus $x=y$ folgt.  Aus $\pair(y,x) \in R$ folgt 
      $\pair(x,y) \in R^{-1}$.  Also gilt $\pair(x,y) \in R \cap R^{-1}$.
      Aus der Inklusions-Beziehung $R \cap R^{-1} \subseteq \id_{M}$ folgt dann
      $\pair(x,y) \in \id_M$ und daraus folgt sofort $x = y$. \hspace*{\fill}
      \qed
\end{enumerate}


\begin{Definition}
Eine Relation $R \subseteq M \times M$  ist \emph{transitiv} falls gilt: \\[0.2cm]
\hspace*{1.3cm} 
$\forall x, y, z \in M \colon \pair(x,y) \in R \wedge \pair(y,z) \in R \rightarrow \pair(x,z) \in
R$.
\end{Definition}

\begin{Satz}
Eine Relation $R \subseteq M \times M$  ist genau dann transitiv, wenn
$R \circ R \subseteq R$ ist.
\end{Satz}

\noindent
\textbf{Beweis}: 
\begin{enumerate}
\item[``$\Rightarrow$'':] 
      Wir nehmen zunächst an, dass $R$ transitiv ist und damit
      \[ \forall x, y, z \in M \colon \pair(x,y) \in R \wedge \pair(y,z) \in R \rightarrow \pair(x,z) \in R \]
      gilt und zeigen, dass daraus $R \circ R \subseteq R$ folgt.
      Sei also $\pair(x,z) \in R \circ R$.  Nach Definition des relationalen Produkts gibt es
      dann ein $y$, so dass $\pair(x,y) \in R$ und $\pair(y,z) \in R$ gilt.
      Da $R$ transitiv ist, gilt jetzt $\pair(x,z) \in R$ und das war zu zeigen.
\item[``$\Leftarrow$'':]
      Wir nehmen nun an, dass die Inklusion $R \circ R \subseteq R$ gilt und zeigen, dass daraus
      \[ \forall x, y, z \in M \colon \pair(x,y) \in R \wedge \pair(y,z) \in R \rightarrow \pair(x,z) \in R \]
      folgt.  Seien also $x,y,z \in M$ mit $\pair(x,y) \in R$ und $\pair(y,z) \in R$ gegeben.
      Nach Definition des relationalen Produkts gilt dann $\pair(x,z) \in R \circ R$ und aus
      der Voraussetzung $R \circ R \subseteq R$ folgt  $\pair(x,z) \in R$. 
\qed
\end{enumerate} 

\noindent
\textbf{Beispiele}:  In den ersten beiden Beispielen sei $M = \{1,2,3\}$.
\begin{enumerate}
\item $R_1 = \{ \pair(1,1), \pair(2,2), \pair(3,3) \}$.

      $R_1$ ist reflexiv, symmetrisch, anti-symmetrisch und transitiv.
\item $R_2 = \{ \pair(1,2), \pair(2,1), \pair(3,3) \}$.

      $R_2$ ist nicht reflexiv, da $\pair(1,1) \not\in R_2$.
      $R_2$ ist symmetrisch. 
      $R_2$ ist nicht anti-symmetrisch, denn aus $\pair(1,2) \in R_2$ und 
      $\pair(2,1) \in R_2$ müsste $2=1$ folgen.
      Schließlich ist $R_2$ auch nicht transitiv, denn aus $\pair(1,2) \in R_2$ und 
      $\pair(2,1) \in R_2$ müsste $\pair(1,1) \in R_2$ folgen.

      In den beiden folgenden Beispielen sei $M = \mathbb{N}$.
\item $R_3 := \{ \pair(n,m) \in \mathbb{N}^2 \mid n \leq m \}$.

      $R_3$ ist reflexiv, denn für alle natürlichen Zahlen $n \in \mathbb{N}$ gilt 
      $n \leq n$.  $R_3$ ist nicht symmetrisch, denn beispielsweise gilt
      $1 \leq 2$, aber es gilt nicht $2 \leq 1$.  Allerdings ist $R_3$ anti-symmetrisch,
      denn wenn $n \leq m$  und $m \leq n$ gilt, so muss schon $m = n$ gelten.
      Schließlich ist $R_3$ auch transitiv, denn aus $k \leq m$ und $m \leq n$ folgt
      natürlich $k \leq n$.
\item $R_4 := \{ \pair(m,n) \in \mathbb{N}^2 \mid \exists k\in \mathbb{N}: m\cdot k = n \}$

      Für zwei positive Zahlen $m$ und $n$ gilt $\pair(m,n) \in R_4$ genau dann, wenn $m$ ein
      Teiler von $n$ ist.  Damit ist klar, dass $R_4$ reflexiv ist, denn jede Zahl
      teilt sich selbst.  Natürlich ist $R_4$ nicht symmetrisch, denn $1$ ist ein Teiler
      von $2$ aber nicht umgekehrt.  Dafür ist $R_4$ aber anti-symmetrisch, denn wenn 
      sowohl $m$ ein Teiler von $n$ ist und auch $n$ ein Teiler vom $m$, so muss $m = n$
      gelten.  Schließlich ist $R_4$ auch transitiv: Ist $m$ ein Teiler von $n$ und
      $n$ ein Teiler von $o$, so ist natürlich $m$ ebenfalls ein Teiler von $o$.
\end{enumerate}

\subsection{Der transitive Abschluss einer Relation}
Ist $R$ eine Relation auf $M$, die nicht transitiv ist, so können wir $R$ zu einer
transitiven Relation erweitern.  Dazu definieren wir für alle $n \in \mathbb{N}_0$ die
Potenzen $R^n$ durch Induktion über $n$.
\begin{enumerate}
\item Induktions-Anfang: $n= 0$.  Wir setzen \\[0.2cm]
      \hspace*{1.3cm} $R^0 := \id_M$.
\item Induktions-Schritt: $n \rightarrow n + 1$. Nach Induktions-Voraussetzung ist $R^n$
      bereits definiert. Daher können wir $R^{n+1}$ als \\[0.2cm]
      \hspace*{1.3cm} $R^{n+1} = R \circ R^n$
      \\[0.2cm]
      definieren.
\end{enumerate}
Wir benötigen später das folgende Potenz-Gesetz:  Für beliebige 
natürliche Zahlen $k,l \in \mathbb{N}_0$ gilt:
\[ R^k \circ R^l = R^{k+l}. \]
\textbf{Beweis}:  Wir führen den Beweis durch Induktion nach $k$.
\begin{enumerate}
\item[I.A.:] $k = 0$.  Es gilt
             \[ R^0 \circ R^l = \textsl{id}_M \circ R^l = R^l = R^{0+l}. \]
\item[I.S.:] $k \mapsto k+1$.  Es gilt
             \[
             \begin{array}{lcll}
               R^{k+1} \circ R^l & = & (R \circ R^k) \circ R^l &
                                       \mbox{nach Def. von}\; R^{n+1} \\
                                 & = & R \circ (R^k \circ R^l) &
                                       \mbox{aufgrund des Assoziativ-Gesetzes für $\circ$}                                       \\
                                 & = & R \circ R^{k+l} &
                                       \mbox{nach Induktions-Voraussetzung} \\
                                 & = & R^{(k+l)+1} &
                                       \mbox{nach Def. von}\; R^{n+1} \\
                                 & = & R^{(k+1)+l}. & \hspace*{\fill} \Box
             \end{array}
             \]
\end{enumerate}
\vspace*{0.3cm}

\noindent
Wir definieren den \emph{transitiven Abschluss} von $R$ als die Menge \\[0.2cm]
\hspace*{1.3cm} $R^+ := \bigcup\limits_{n=1}^{\infty} R^n$. \\
Dabei ist für eine Folge $(A_n)_n$ von Mengen der Ausdruck $\bigcup\limits_{i=1}^{\infty} A_n$ 
wie folgt definiert: \\[-0.1cm]
\hspace*{1.3cm} $\bigcup\limits_{i=1}^{\infty} A_n = A_1 \cup A_2 \cup A_3 \cup \cdots $. 


\begin{Satz}
Es sei $M$ eine Menge und $R \subseteq M \times M$ eine binäre Relation auf $M$.
Dann hat die oben definierte Relation $R^+$ die folgenden Eigenschaften:
\begin{enumerate}
\item $R^+$ ist transitiv.
\item $R^+$   ist die bezüglich der Inklusions-Ordnung $\subseteq$ kleinste Relation
      $T$ auf $M$, die einerseits transitiv ist und andererseits die Relation $R$ enthält.
      Anders ausgedrückt: Ist $T$ ein transitive Relation auf $M$ mit $R \subseteq T$, so
      muss $R^+ \subseteq T$ gelten.
\end{enumerate}
\end{Satz}

\noindent
\textbf{Beweis}:
\begin{enumerate}
\item Wir zeigen zunächst, dass $R^+$ transitiv ist. Dazu müssen wir die Gültigkeit der Formel
      \[ \forall x, y, z: \pair(x,y) \in R^+ \wedge \pair(y,z) \in R^+ \rightarrow \pair(x,z) \in R^+ \]
nachweisen.  Wir nehmen also an, dass $\pair(x,y) \in R^+$ und $\pair(y,z) \in R^+$
gilt und zeigen, dass aus dieser Voraussetzung auf $\pair(x,z) \in R^+$ geschlossen
werden kann.  Nach Definition von $R^+$ haben wir 
\[ \pair(x,y) \in \bigcup\limits_{n=1}^{\infty} R^n \quad \mbox{und} \quad
   \pair(y,z) \in \bigcup\limits_{n=1}^{\infty} R^n.
\]
Nach der Definition der Menge $\bigcup\limits_{n=1}^{\infty} R^n$ gibt es dann natürliche Zahlen $k,l\in\mathbb{N}$, so dass
\[ \pair(x,y) \in R^k \quad \mbox{und} \quad \pair(y,z) \in R^l \]
gilt.  Aus der Definition des relationalen Produktes folgt nun
\[  \pair(x,z) \in R^k \circ R^l. \]
Aufgrund des Potenz-Gesetzes für das relationale Produkt gilt 
\[ R^k \circ R^l = R^{k+l}. \]
Also haben wir $\pair(x,z) \in R^{k+l}$ und daraus folgt sofort
\[  \pair(x,z) \in \bigcup\limits_{n=1}^{\infty} R^n. \]
Damit gilt $\pair(x,z) \in R^+$ und das war zu zeigen. \hspace*{\fill} $\Box$

\item 
Um zu zeigen, dass $R^+$ die kleinste Relation ist, die einerseits transitiv ist
und andererseits $R$ enthält, nehmen wir an, dass $T$ eine transitive Relation ist,
für die $R \subseteq T$ gilt.  Wir müssen dann zeigen, dass $R^+ \subseteq T$ gilt.
Wir zeigen zunächst durch vollständige Induktion über $n\in\mathbb{N}$, dass für alle 
natürlichen Zahlen $n\in\mathbb{N}$ die folgende Inklusion gilt:
\[ R^n \subseteq T. \]
\noindent
\textbf{I.A.:} $n=1$.  Dann ist $R^1 \subseteq T$ zu zeigen.  Wegen
 $R^1 = R \circ R^0 = R \circ \id_M = R$
 folgt dies aber unmittelbar aus der Voraussetzung $R \subseteq T$.
\vspace*{0.1cm}

\noindent
\textbf{I.S.:} $n \mapsto n+1$.  Nach Induktions-Voraussetzung wissen wir
              \[ R^n \subseteq T. \]
             Wir multiplizieren diese Inklusion auf beiden Seiten von links relational mit $R$
             und haben dann
             \[ R^{n+1} = R \circ R^n \subseteq R \circ T. \]
             Multiplizieren wir die Voraussetzung $R \subseteq T$ von rechts relational mit
             $T$, so finden wir
             \[ R \circ T \subseteq T \circ T. \]
             Weil $T$ transitiv ist, gilt 
             \[ T \circ T \subseteq T. \]
             Insgesamt haben wir also die folgende Kette von Inklusionen
             \[ R^{n+1} \subseteq R \circ T \subseteq T \circ T \subseteq T. \]
             Damit folgt $R^{n+1} \subseteq T$ und der Induktions-Beweis ist
             abgeschlossen.
\vspace*{0.1cm}

\noindent
Wir zeigen nun, dass $R^+ \subseteq T$ ist.  Sei $\pair(x,y) \in R^+$.
Nach Definition von $R^+$ muss es dann eine positive natürliche Zahl $n$ geben, so
dass $\pair(x,y) \in R^n$ ist.  Wegen $R^n \subseteq T$ folgt daraus aber
$\pair(x,y) \in T$ und damit ist auch der zweite Teil des Beweises abgeschlossen. \hspace*{\fill} $\Box$
\end{enumerate}

\example
Es sei $\textsl{Mensch}$ die Menge alle Menschen, die jemals gelebt haben.  Wir definieren
die Relation \textsl{Eltern} auf $M$ indem wir setzen
\\[0.2cm]
\hspace*{1.3cm}
$\textsl{Eltern} := \{ \pair(x,y) \in \textsl{Mensch}^2 \mid \mbox{$x$ ist Vater von $y$ oder 
                                                                   $x$ ist Mutter von $y$} \}$
\\[0.2cm]
Dann besteht der transitive Abschluss der Relation \textsl{Eltern} aus allen Paaren
$\pair(x,y)$, für die $x$ ein Vorfahre von $y$ ist:
\\[0.2cm]
\hspace*{1.3cm}
$\textsl{Eltern}^+ = \{ \pair(x,y) \in \textsl{Mensch}^2 \mid \mbox{$x$ ist Vorfahre von $y$} \}$.
\next

\example
Es sei \textsl{F} die Menge aller Flughäfen.  Wir definieren auf der Menge \textsl{F} eine
Relation \textsl{D} durch
\\[0.2cm]
\hspace*{1.3cm}
$\textsl{D} := \{ \pair(x,y) \in \textsl{F} \times \textsl{F} \mid
                  \mbox{Es gibt einen Direktflug von $x$ nach $y$} \}$.
\\[0.2cm]
$D$ bezeichnet also die direkten Verbindungen.  Die Relation $D^2$ ist dann definiert als
\\[0.2cm]
\hspace*{1.3cm}
$D^2 = \{ \pair(x,z) \in \textsl{F} \times \textsl{F} \mid 
          \exists z \in \textsl{F}: \pair(x,y) \in D \wedge \pair(y,z) \in D \}$.
\\[0.2cm]
Das sind aber gerade die Paare $\pair(x,z)$, für die es einen Luftweg von $x$ nach $z$
gibt, der genau einen Zwischenstop enthält.  Entsprechend enthält $D^3$ die Paare
$\pair(x,z)$, für die man mit zwei Zwischenstops von $x$ nach $y$ kommt und allgemein
enthält $D^k$ die Paare $\pair(x,z)$, für die man mit $k-1$ Zwischenstops von dem
Flughafen $x$ zu dem Flughafen $z$ kommt.
Der transitive Abschluss von $D$ enthält
dann alle Paare $\pair(x,y)$, für die es überhaupt eine Möglichkeit gibt, auf dem Luftweg
von $x$ nach $y$ zu kommen.

\exercise
Auf der Menge $\mathbb{N}$ der natürlichen Zahlen wird die Relation $R$ wie folgt definiert:
\\[0.2cm]
\hspace*{1.3cm}
$R = \{ \pair(k, k + 1) \mid k \in \mathbb{N} \}$.
\\[0.2cm]
Berechnen Sie die folgenden Relationen:
\begin{enumerate}
\item $R^2$,
\item $R^3$,
\item $R^n$ für beliebige $n \in \mathbb{N}$,
\item $R^+$. \exend
\end{enumerate}


\exercise
Wir definieren die Relation $R$ auf der Menge $\mathbb{N}$ der natürlichen Zahlen als
\\[0.2cm]
\hspace*{1.3cm}
$R := \{ \pair(n, 2 \cdot n) \mid n \in \mathbb{N} \}$.
\\[0.2cm]
Berechnen Sie den transitiven Abschluss $R^+$.
\exend

\section{Äquivalenz-Relationen \label{section:aequivalenz_relation}}
\begin{Definition}
Eine Relation $R \subseteq M \times M$  ist eine 
\emph{Äquivalenz-Relation} auf $M$ genau dann, wenn folgende Bedingungen erfüllt sind:
\begin{enumerate}
\item $R$ ist reflexiv auf $M$,
\item $R$ ist symmetrisch und
\item $R$ ist transitiv.
\end{enumerate}
\end{Definition}

Der Begriff der Äquivalenz-Relationen verallgemeinert den Begriff der Gleichheit, denn
ein triviales Beispiel für eine Äquivalenz-Relation auf $M$ ist die Relation $\id_M$.
Als nicht-triviales Beispiel betrachten wir die Menge $\mathbb{Z}$ der ganzen Zahlen
zusammen mit der Relation $\approx_n$, die wir für natürliche Zahlen $n \not= 0$ wie folgt definieren: \\[0.2cm]
\hspace*{1.3cm}
 $\approx_n \;:=\; \{ \pair(x,y) \in \mathbb{Z}^2 \mid \exists k \in \mathbb{Z} \colon k \cdot n = x - y \}$
\\[0.2cm]
Für zwei Zahlen $x,y \in \mathbb{Z}$ gilt also  $x \approx_n y$ genau dann, wenn $x$ und
$y$ beim Teilen durch $n$ den gleichen Rest ergeben.   Wir zeigen, dass die
Relation $\approx_n$ für $n \not=0$ eine Äquivalenz-Relation auf $\mathbb{Z}$ definiert.
\begin{enumerate}
\item Um zu zeigen, dass $\approx_n$ reflexiv ist müssen wir nachweisen, dass für alle
      $x \in \mathbb{Z}$ gilt $\pair(x,x) \in\; \approx_n$.  Nach Definition von $\approx_n$
      ist dies äquivalent zu \\[0.2cm]
      \hspace*{1.3cm}
      $\pair(x,x) \in \bigl\{ \pair(x,y) \in \mathbb{Z}^2 \mid \exists k \in \mathbb{Z}: k \cdot n = x - y \bigr\}$.
      \\[0.2cm]
      Dies ist offenbar gleichbedeutend mit \\[0.2cm]
      \hspace*{1.3cm}
      $\exists k \in \mathbb{Z}: k \cdot n = x - x$.
      \\[0.2cm]
      Offenbar erfüllt $k=0$ diese Gleichung, denn es gilt: \\[0.2cm]
      \hspace*{1.3cm}
      $0\cdot n = 0 = x - x$. 
      \\[0.2cm]
      Damit ist die Reflexivität nachgewiesen.
\item Um die Symmetrie von $\approx_n$ nachzuweisen nehmen wir an, dass 
      $\pair(x,y) \in\; \approx_n$ ist.  Dann gibt es also ein $k \in \mathbb{Z}$, so dass
      \\[0.2cm]
      \hspace*{1.3cm}      
      $k\cdot n = x - y$
      \\[0.2cm] 
      gilt.  Daraus folgt sofort
      \\[0.2cm]
      \hspace*{1.3cm}      
      $(-k)\cdot n = y - x$.
      \\[0.2cm]
      Das zeigt aber, dass $\pair(y,x) \in\; \approx_n$ ist und damit ist die Symmetrie
      nachgewiesen.
\item Zum Nachweis der Transitivität von $\approx$ nehmen wir an, dass
      sowohl $\pair(x,y) \in\; \approx_n$ als auch $\pair(y,z) \in\; \approx_n$
      gelten.  Dann gibt es also $k_1,k_2 \in \mathbb{Z}$ so dass 
      \\[0.2cm]
      \hspace*{1.3cm}      
      $k_1 \cdot n = x - y$ \quad und \quad $k_2 \cdot n = y - z$ 
      \\[0.2cm]
      gelten.  Addieren wir diese beiden Gleichungen, so sehen wir
      \\[0.2cm]
      \hspace*{1.3cm}      
      $(k_1 + k_2) \cdot n = x - z$.
      \\[0.2cm]
      Mit $k_3 := k_1 + k_2$ gilt also $k_3\cdot n = x - z$ und damit haben wir
      $\pair(x,z) \in\; \approx_n$ nachgewiesen und die Transitivität von $\approx_n$
      gezeigt.  \hspace*{\fill} $\Box$      
\end{enumerate}

\exercise
Beweisen Sie, dass für alle ganzen Zahlen $x$ und $y$ 
\\[0.2cm]
\hspace*{1.3cm}
 $x \approx_n y \;\leftrightarrow\; x \modulo n = y \modulo n$
\\[0.2cm]
gilt.
\exend


\exercise
Auf der Menge $\mathbb{N} \times \mathbb{N}$ definieren wir eine Relation $R$ wie folgt:
\\[0.2cm]
\hspace*{1.3cm}
$R := \{ \bigl\langle \pair(x_1, y_1) ,\pair(x_2, y_2) \bigr\rangle \in  (\mathbb{N} \times \mathbb{N})^2 \mid x_1 + y_2 = x_2 + y_1 \}$
\\[0.2cm]
Zeigen Sie, dass $R$ eine Äquivalenz-Relation ist.
\exend

\begin{Satz} Es seien $M$ und $N$ Mengen und 
\\[0.2cm]
\hspace*{1.3cm}
$f : M \rightarrow N$
\\[0.2cm]
sei eine Funktion.  Definieren wir die Relation $R_f \subseteq M \times M$ als
\\[0.2cm]
\hspace*{1.3cm}
$R_f := \bigl\{ \pair(x,y) \in M \times M \mid f(x) = f(y) \bigr\}$,
\\[0.2cm]
so ist $R_f$ eine Äquivalenz-Relation.  
\end{Satz}


\noindent
\textbf{Beweis}: Wir weisen Reflexivität, Symmetrie und Transitivität von $R_f$ nach:
\begin{enumerate}
\item $R_f$ ist reflexiv, denn es gilt 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\forall x \in M: f(x) = f(x)$.
      \\[0.2cm]
      Daraus folgt sofort 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\forall x \in M: \pair(x,x) \in R_f$.
\item Um die Symmetrie von $R_f$ nachzuweisen, müssen wir
      \\[0.2cm]
      \hspace*{1.3cm}
      $\forall x,y \in M: (\pair(x,y) \in R_f \rightarrow \pair(y,x) \in R_f)$
      \\[0.2cm]
      zeigen.  Sei also $\pair(x,y) \in R_f$. Dann gilt nach Definition von $R_f$
      \\[0.2cm]
      \hspace*{1.3cm}
      $f(x) = f(y)$.
      \\[0.2cm]
      Daraus folgt sofort 
      \\[0.2cm]
      \hspace*{1.3cm}
      $f(y) = f(x)$
      \\[0.2cm]
      und nach Definition von $R_f$ ist das äquivalent zu 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\pair(y,x) \in R_f$.
\item Um die Transitivität von $R_f$ nachzuweisen, müssen wir 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\forall x,y,z \in M: \bigl(\pair(x,y) \in R_f \wedge \pair(y,z) \in R_f \rightarrow 
                            \pair(x,z) \in R_f\bigr)
      $
      \\[0.2cm]
      zeigen.  Gelte also 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\pair(x,y) \in R_f \wedge \pair(y,z) \in R_f$.
      \\[0.2cm]
      Nach Definition von $R_f$ heißt das 
      \\[0.2cm]
      \hspace*{1.3cm}
      $f(x) = f(y) \wedge f(y) = f(z)$.
      \\[0.2cm]
      Daraus folgt sofort 
      \\[0.2cm]
      \hspace*{1.3cm}
      $f(x) = f(z)$.
      \\[0.2cm]
      Nach Definition der Relation $R_f$ haben wir also 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\pair(x,z) \in R_f$.  \qed
\end{enumerate}


\remark
Ist $f: M \rightarrow N$ eine Funktion und gilt
\\[0.2cm]
\hspace*{1.3cm}
$R_f = \bigl\{ \pair(x,y) \in M \times M \mid f(x) = f(y) \bigr\}$ 
\\[0.2cm]
so sagen wir, dass $R_f$ die von \emph{$f$ auf M erzeugte} 
Äquivalenz-Relation ist.  Wir werden später sehen, dass es zu jeder  Äquivalenz-Relation eine Funktion gibt,
die diese Äquivalenz-Relation erzeugt.

\example 
Die Äquivalenz-Relation $\approx_n$ wird von der Funktion
\\[0.2cm]
\hspace*{1.3cm}
$x \mapsto x \modulo n$
\\[0.2cm]
erzeugt, denn wir haben  gezeigt, dass für alle $x,y \in \mathbb{Z}$ gilt:
\\[0.2cm]
\hspace*{1.3cm}
$x \approx_n y \;\leftrightarrow\; x \modulo n = y \modulo n$.


\example
Es sei $M$ die Menge aller Menschen und $S$ sei die Menge aller Staaten.  Nehmen wir zur
Vereinfachung an, dass jeder Mensch genau eine Staatsbürgerschaft hat, so können wir eine Funktion
\\[0.2cm]
\hspace*{1.3cm}
$\textsl{sb}: M \rightarrow S$
\\[0.2cm]
defineren, die jedem Menschen $x$ seine Staatsbürgerschaft $\textsl{sb}(x)$ zuordnet.  Bei der durch
diese Funktion definierten Äquivalenz-Relation sind dann alle die Menschen äquivalent, welche dieselbe
Staatsbürgerschaft haben.  

\begin{Definition}[Äquivalenz-Klasse]
Ist $R$ eine Äquivalenz-Relation auf $M$, so definieren wir für alle $x \in M$ 
die Menge $[x]_R$ durch \\[0.2cm]
\hspace*{1.3cm} $[x]_R \;:=\; \bigl\{ y \in M \mid x \mathop{R} y \bigr\}$. \qquad
(Wir schreiben hier $x R y$ als Abkürzung für $\pair(x, y) \in R$.) 
\\[0.2cm]
Die Menge $[x]_R$ bezeichnen wir als die von $x$ erzeugte \emph{Äquivalenz-Klasse}.  
\end{Definition}

\begin{Satz}[Charakterisierung der Äquivalenz-Klassen] \label{satz:aequivalenz-klassen}
Ist $R \subseteq M \times M$ eine Äquivalenz-Relation, so gilt: 
\begin{enumerate}
\item $\forall x \el M \colon x \el [x]_R$,
\item $\forall x, y \el M \colon \bigl(x \mathop{R} y \rightarrow [x]_R = [y]_R\bigr)$,
\item $\forall x, y \el M \colon \bigl(\neg x \mathop{R} y \rightarrow [x]_R \cap [y]_R = \emptyset\bigr)$.
\end{enumerate}
\end{Satz}

\noindent
\textbf{Bemerkung}: Da für $x,y\el M$ entweder $x \mathop{R} y$ oder $\neg (x \mathop{R} y)$ gilt, zeigen die
letzten beiden Eigenschaften, dass zwei Äquivalenz-Klassen entweder gleich
oder disjunkt sind:
\\[0.2cm]
\hspace*{1.3cm}
$\forall x, y \el M: \bigl([x]_R = [y]_R \vee [x]_R \cap [y]_R = \emptyset\bigr)$.
\vspace*{0.3cm}

\noindent
\textbf{Beweis}:  Wir beweisen die Behauptungen in derselben Reihenefolge wie oben angegeben.
\begin{enumerate}
\item Wir haben $x \el [x]_R$ genau dann, wenn 
      $x \in \bigl\{ y \el M \mid x \mathop{R} y \bigr\}$ gilt und letzteres ist
      äquivalent zu $x \mathop{R} x$.
      Nun folgt $x \mathop{R} x$ unmittelbar aus der Reflexivität der Äquivalenz-Relation.
\item Sei  $x \mathop{R} y$.  Um $[x]_R = [y]_R$ nachzuweisen zeigen wir
      $[x]_R \subseteq [y]_R$ und $[y]_R \subseteq [x]_R$.

      \begin{enumerate}
      \item Zeige $[x]_R \subseteq [y]_R$:
        
            Sei $u \el [x]_R$.  Dann gilt $x \mathop{R} u$.  Aus der Voraussetzung
            $x \mathop{R} y$ folgt wegen der Symmetrie der Relation $R$, dass auch
            $y \mathop{R} x$ gilt.  Aus 
            $y \mathop{R} x$ und $x \mathop{R} u$ folgt wegen der Transitivität der Relation
            $R$, dass $y \mathop{R} u$ gilt.  Nach der Definition der
            Menge $[y]_R$ folgt damit $u \el [y]_R$. 
            Damit ist $[x]_R \subseteq [y]_R$ nachgewiesen.
      \item Zeige $[y]_R \subseteq [x]_R$:

            Um $[y]_R \subseteq [x]_R$ zu zeigen nehmen wir $u \el [y]_R$ an.
            Dann gilt $y \mathop{R} u$.  Aus der Voraussetzung $x \mathop{R} y$ und
            $y \mathop{R} u$ folgt wegen der Transitivität der Relation $R$ sofort
            $x \mathop{R} u$.  Dann gilt aber $u \el [x]_R$ und damit ist auch die Inklusion
            $[y]_R \subseteq [x]_R$ nachgewiesen.
      \end{enumerate}
\item Sei nun $\neg (x \mathop{R} y)$ vorausgesetzt.  Um nachzuweisen,
      dass  $[x]_R \cap [y]_R = \emptyset$ ist nehmen wir an, dass
      es ein $z \el [x]_R \cap [y]_R$ gibt.  Aus dieser Annahme werden wir einen
      Widerspruch zu der Voraussetzung $\neg (x \mathop{R} y)$ 
        herleiten.  Sei also $z \el[x]_R$ und $z \el [y]_R$.  Nach Definition
        der Äquivalenz-Klassen $[x]_R$ und $[y]_R$ gilt dann 
      \\[0.2cm]
      \hspace*{1.3cm}      
      $x \mathop{R} z$ \quad und \quad $y \mathop{R} z$.
      \\[0.2cm]
      Aufgrund der Symmetrie von $R$ können wir $y \mathop{R} z$ umdrehen und haben dann
      \\[0.2cm]
      \hspace*{1.3cm}      
      $x \mathop{R} z$ \quad und \quad $z \mathop{R} y$.
      \\[0.2cm]
      Aus der Transitivität der Äquivalenz-Relation $R$ folgt jetzt
      $x \mathop{R} y$.
      Dies steht aber im Widerspruch zu der Voraussetzung $\neg (x \mathop{R} y)$.
      Damit ist die Annahme, dass es ein $z \el [x]_R \cap [y]_R$ gibt, widerlegt.
      Folglich ist die Menge $[x]_R \cap [y]_R$ leer.
      \hspace*{\fill} $\Box$
\end{enumerate}

\remark
Die Aussagen 2.~und 3.~lassen sich prägnant zu einer Aussage zusammen fassen:  Falls 
$R \subseteq M \times M$ eine Äquivalenz-Relation ist, dann gilt
\\[0.2cm]
\hspace*{1.3cm}
$\pair(x,y) \in R \;\leftrightarrow\; [x]_R = [y]_R$.

\remark
Ist $R \subseteq M \times M$ eine Äquivalenz-Relation auf M, so können wir eine Funktion
\\[0.2cm]
\hspace*{1.3cm}
$f_R : M \rightarrow 2^M$
\\[0.2cm]
durch die Festlegung
\\[0.2cm]
\hspace*{1.3cm}
$f_R(x) := [x]_R = \bigl\{ y \in M | x R y \bigr\}$
\\[0.2cm]
definieren.   Der letzte Satz zeigt dann, dass die Funktion $f_R$ die Äquivalenz-Relation
$R$ erzeugt, denn es gilt
\\[0.2cm]
\hspace*{1.3cm}
$
\begin{array}[t]{lcl}
R_{f_R} & = & \bigl\{ \pair(x, y) \in M \times M \mid f_R(x) = f_R(y)  \bigr\}  \\[0.2cm]
        & = & \bigl\{ \pair(x, y) \in M \times M \mid [x]_R = [y]_R    \bigr\}  \\[0.2cm]
        & = & \bigl\{ \pair(x, y) \in M \times M \mid \pair(x,y) \in R \bigr\}  \\[0.2cm]
        & = & R,
\end{array}
$
\\[0.2cm]
denn  $R \subseteq M \times M$.

\begin{Definition}[Quotienten-Raum]
Ist $M$ eine Menge und $R$ eine Äquivalenz-Relation auf $M$ so definieren wir die Menge $M/R$ (lese:
$M$ \emph{modulo} $R$) als die Menge der von $R$ auf $M$ erzeugten Äquivalenz-Klassen:
\\[0.2cm]
\hspace*{1.3cm}
$M/R := \bigl\{ [x]_R \mid x \in M \bigr\}$.
\\[0.2cm]
Die Menge $M/R$ der von $R$ erzeugten Äquivalenz-Klassen nennen wir den
\emph{Quotienten-Raum} vom $M$ über $R$.
\end{Definition}

\example
Setzen wir das letzte Beispiel fort, in dem alle die Menschen äquivalent waren, die dieselbe
Staatsbürgerschaft haben, so finden wir, dass die Äquivalenz-Klassen, die von dieser
Äquivalenz-Relation erzeugt werden, gerade aus den Menschen besteht, die dieselbe
Staatsbürgerschaft besitzen.

\begin{Definition}[Partition] 
Ist ${\cal P} \subseteq 2^M$ eine Menge von Teilmengen von $M$, so sagen wir, dass ${\cal P}$ eine 
\emph{Partition} von $M$ ist, falls $\mathcal{P}$ folgende Eigenschaften hat:
\begin{enumerate}
\item \emph{Vollständigkeits-Eigenschaft} 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\forall x \el M : \exists K \el {\cal P} : x \el K$,

      jedes Element aus $M$ findet sich  in einer Menge aus ${\cal P}$ wieder.
\item \emph{Separations-Eigenschaft} 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\forall K, L \el {\cal P} : K \cap L =\emptyset \vee K = L$,

      zwei Mengen aus ${\cal P}$ sind  entweder disjunkt oder identisch.
\end{enumerate}
Gelegentlich wird eine Partition einer Menge $M$ auch als \emph{Zerlegung} von $M$
bezeichnet.
\end{Definition}

\noindent
\textbf{Bemerkung}:
Der letzte Satz hat gezeigt, dass für jede Äquivalenz-Relation $R$ auf einer Menge $M$ der Quotienten-Raum
\\[0.2cm]
\hspace*{1.3cm}
$M/R = \bigl\{ [x]_R \mid x \in M \bigr\}$
\\[0.2cm]
eine Partition der Menge $M$ darstellt.  Der nächste Satz zeigt, dass auch die Umkehrung gilt, denn
aus jeder Partition einer Menge lässt sich eine Äquivalenz-Relation erzeugen.

\begin{Satz} 
Es sei $M$ eine Menge und $\mathcal{P} \subseteq 2^M$ eine
Partition von $M$.  Definieren wir die Relation $R$ durch
\\[0.2cm]
\hspace*{1.3cm}
$R := \bigl\{ \pair(x,y) \in M \times M \mid \exists K \in \mathcal{P}: \bigl(x \in K \wedge y \in K\bigr) \bigr\}$,
\\[0.2cm]
so ist $R$ eine Äquivalenz-Relation auf $M$.
\end{Satz}

\noindent
\textbf{Beweis}: Wir haben zu zeigen dass die Relation $R$ reflexiv, symmetrisch und
transitiv ist.
\begin{enumerate}
\item Reflexivität: Zu zeigen ist 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\forall x \in M: x \mathop{R} x$.
      \\[0.2cm]
      Das ist nach Definition der Relation $R$ äquivalent zu der Formel 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\forall x \in M: \exists K \in \mathcal{P}: \bigl(x \in K \wedge x \in K\bigr)$
      \\[0.2cm]
      Das können wir sofort zu der Formel
      \\[0.2cm]
      \hspace*{1.3cm}
      $\forall x \in M: \exists K \in \mathcal{P}: x \in K$
      \\[0.2cm]
      vereinfachen.  Diese Formel ist nichts anderes als die Vollständigkeit
      der Partition $\mathcal{P}$.
\item Symmetrie: Zu zeigen ist 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\forall x, y \in M:\bigl( x \mathop{R} y \rightarrow y \mathop{R} x\bigr)$.
      \\[0.2cm]
      Wir nehmen also an, dass 
      \\[0.2cm]
      \hspace*{1.3cm}
      $x \mathop{R} y$ 
      \\[0.2cm]
      gilt.  Nach Definition
      der Relation $R$ ist das äquivalent zu 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\exists K \in \mathcal{P}: \bigl(x \in K \wedge y \in K\bigr)$.
      \\[0.2cm]
      Diese Formel ist offenbar äquivalent zu 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\exists K \in \mathcal{P}: \bigl(y \in K \wedge x \in K\bigr)$
      \\[0.2cm]
      und nach Definition der Relation $R$ folgt nun 
      \\[0.2cm]
      \hspace*{1.3cm}
      $y \mathop{R} x$.
\item Transitivität: Zu zeigen ist 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\forall x,y,z \in M:\bigl( x \mathop{R} y \wedge y \mathop{R} z \rightarrow x \mathop{R} z\bigr)$.
      \\[0.2cm]
      Wir nehmen also an, dass 
      \\[0.2cm]
      \hspace*{1.3cm}
      $x \mathop{R} y \wedge y \mathop{R} z$
      \\[0.2cm]
      gilt.  Das ist nach Definition der Relation $R$ äquivalent zu
      \\[0.2cm]
      \hspace*{1.3cm}
      $\exists K \in \mathcal{P}: \bigl(x \in K \wedge y \in K\bigr) \wedge 
       \exists L \in \mathcal{P}: \bigl(y \in L \wedge z \in L\bigr)$.
      \\[0.2cm]
      Dann gibt es aber offenbar zwei Mengen $K,L\in\mathcal{P}$, so dass
      \\[0.2cm]
      \hspace*{1.3cm}
      $x \in K \wedge y \in K \cap L \wedge z \in L$
      \\[0.2cm]
      gilt.  Damit ist $K \cap L \not= \emptyset$ und aus der 
      Separations-Eigenschaft der Partition $\mathcal{P}$ folgt 
      \\[0.2cm]
      \hspace*{1.3cm}
      $K = L$.
      \\[0.2cm]
      Damit haben wir 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\exists K \in \mathcal{P}: \bigl(x \in K \wedge z \in K\bigr)$
      \\[0.2cm]
      gezeigt und nach Definition der Relation $R$ heißt das 
      $x \mathop{R} z$. 
      \qed
\end{enumerate}

\section{Partielle Ordnung, Totale Ordnung}
Eine Relation $R \subseteq M \times M$  ist eine 
\emph{partielle Ordnung (im Sinne von $\leq$) auf $M$} genau dann, wenn $R$
\begin{enumerate}
\item reflexiv,
\item anti-symmetrisch und
\item transitiv ist.
\end{enumerate}
Die Relation ist darüber hinaus eine \emph{totale Ordnung auf $M$}, wenn zusätzlich
\\[0.2cm]
\hspace*{1.3cm} $\forall x \el M : \forall y \el M :\bigl( x\mathop{R}y \vee y \mathop{R} x\bigr)$
\\[0.2cm]
gilt.

\example 
Die Teilbarkeitsrelation $\mathop{\mathtt{div}}$ kann auf den natürlichen Zahlen
wie folgt definiert werden 
\\[0.2cm]
\hspace*{1.3cm}
$ \mathop{\mathtt{div}} := 
   \bigl\{ \pair(x,y) \in \mathbb{N} \times \mathbb{N} \mid \exists k \in \mathbb{N}: k \cdot x = y\bigr\}$.
\\[0.2cm] 
Wir zeigen, dass diese Relation eine partielle Ordnung auf $\mathbb{N}$ ist und weisen dazu
Reflexivität, Anti-Symmetrie und Transitivität nach.
\begin{enumerate}
\item Reflexivität: Zu zeigen ist 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\forall x \in \mathbb{N}: x \mathop{\mathtt{div}} x$.
      \\[0.2cm]
      Nach Definition der Relation $\mathop{\mathtt{div}}$ ist  das äquivalent zu
      \\[0.2cm]
      \hspace*{1.3cm}
      $\exists k \in \mathbb{N}: k \cdot x = x$ 
      \\[0.2cm]
      Setzen wir $k=1$, so gilt sicher $k \cdot x = x$ und damit ist die Reflexivität
      gezeigt.
\item Anti-Symmetrie: Zu zeigen ist 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\forall x, y \in \mathbb{N}:\bigl( x \mathop{\mathtt{div}} y \wedge y \mathop{\mathtt{div}} x \rightarrow x = y\bigr)$
      \\[0.2cm] 
      Wir nehmen also an, dass 
      \\[0.2cm]
      \hspace*{1.3cm}
      $x \mathop{\mathtt{div}} y \wedge y \mathop{\mathtt{div}} x$
      \\[0.2cm]
      gilt (und werden $x=y$ zeigen).  Nach Definition der Relation $\mathop{\mathtt{div}}$
      ist die Annahme äquivalent zu 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\bigl(\exists k_1 \in \mathbb{N}: k_1 \cdot x = y \bigr) \wedge
       \bigl(\exists k_2 \in \mathbb{N}: k_2 \cdot y = x \bigr)$ 
      \\[0.2cm]
      Also gibt es natürliche Zahlen $k_1$ und $k_2$, so dass 
      \\[0.2cm]
      \hspace*{1.3cm}
      $k_1 \cdot x = y \wedge k_2 \cdot y = x$
      \\[0.2cm]
      gilt.  Setzen wir diese Gleichungen ineinander ein, so erhalten wir 
      \\[0.2cm]
      \hspace*{1.3cm}
      $k_1 \cdot k_2 \cdot y = y$ \quad und \quad
      $k_2 \cdot k_1 \cdot x = x$.
      \\[0.2cm] 
      Dann muss aber 
      \\[0.2cm]
      \hspace*{1.3cm}
      $k_1 \cdot k_2 = 1 \;\vee\; (x = 0 \wedge y = 0)$
      \\[0.2cm]
      gelten.  Da aus $k_1 \cdot k_2 = 1$ sofort $k_1 = 1$ und $k_2 = 1$ folgt,
      haben wir wegen der ursprünglichen Gleichungen $k_1 \cdot x = y$ und $k_2 \cdot y = x$
      in jedem Fall $x = y$.
\item Transitivität: Zu zeigen ist 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\forall x, y, z \in \mathbb{N}:\bigl( x \mathop{\mathtt{div}} y \wedge y \mathop{\mathtt{div}} z \rightarrow x \mathop{\mathtt{div}} z\bigr)$
      \\[0.2cm] 
      Wir nehmen also an, dass 
      \\[0.2cm]
      \hspace*{1.3cm}
      $x \mathop{\mathtt{div}} y \wedge y \mathop{\mathtt{div}} z$
      \\[0.2cm]
      gilt (und werden $x \mathop{\mathtt{div}} z$ zeigen).  Nach Definition der Relation $\mathop{\mathtt{div}}$
      ist die Annahme äquivalent zu 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\bigl(\exists k_1 \in \mathbb{N}: k_1 \cdot x = y \bigr) \wedge
       \bigl(\exists k_2 \in \mathbb{N}: k_2 \cdot y = z \bigr)$ 
      \\[0.2cm]
      Also gibt es natürliche Zahlen $k_1$ und $k_2$, so dass 
      \\[0.2cm]
      \hspace*{1.3cm}
      $k_1 \cdot x = y \wedge k_2 \cdot y = z$
      \\[0.2cm]
      gilt.  Setzen wir die erste Gleichung in die zweite  ein, so erhalten wir 
      \\[0.2cm]
      \hspace*{1.3cm}
      $k_2 \cdot k_1 \cdot x = z$.
      \\[0.2cm] 
      Setzen wir $k_3 := k_2 \cdot k_1$, so haben wir also $k_3 \cdot x = z$
      und das zeigt 
      \\[0.2cm]
      \hspace*{1.3cm}
      $x \mathop{\mathtt{div}} z$.
\end{enumerate}
Die Relation $\mathtt{div}$ ist keine totale Ordnung, denn beispielsweise gilt weder
$2 \mathop{\mathtt{div}} 3$ noch $3 \mathop{\mathtt{div}} 2$.  \exend

\exercise
Auf der Menge der natürlichen Zahlen $\mathbb{N}$ definieren wir die Relation $\leq$ 
wie folgt: 
\\[0.2cm]
\hspace*{1.3cm}
$\leq := \bigl\{ \pair(x,y) \in \mathbb{N} \times \mathbb{N} \mid \exists k \in \mathbb{N}_0: x + k = y \bigr\}$.
\\[0.2cm]
Zeigen Sie, dass die Relation $\leq$ eine totale Ordnung auf $\mathbb{N}$ ist.
\exend

\exercise
Auf der Potenz-Menge der natürlichen Zahlen definieren wir die Relation
$\subseteq$ als 
\\[0.2cm]
\hspace*{1.3cm}
$\subseteq := 
\bigl\{ \pair(A,B) \in 2^\mathbb{N} \times 2^\mathbb{N}\mid \exists C \in 2^\mathbb{N}: A \cup C = B \bigr\}$
\\[0.2cm]
Zeigen Sie, dass die Relation $\subseteq$ auf $2^\mathbb{N}$ zwar eine partielle, aber keine
totale Ordnung ist.
\exend
\next

\exercise
Auf der Menge $\mathbb{N} \times \mathbb{N}$ definieren wir die Relation $\sqsubseteq$ durch die Festlegung
\\[0.2cm]
\hspace*{1.3cm}
$\pair(x_1, y_1) \sqsubseteq \pair(x_2, y_2)$ \quad g.d.w. \quad 
$x_1 < x_2 \vee (x_1 = x_2 \wedge y_1 \leq y_2)$.  
\\[0.2cm]
Zeigen Sie, dass $\sqsubseteq$ eine totale Ordnung auf $\mathbb{N} \times \mathbb{N}$ ist.
\exend
\vspace*{0.3cm}

\noindent
Wir schließen damit den theoretischen Teil unseres Ausflugs in die Mengenlehre und verweisen für weitere
Details auf die Literatur \cite{lipschutz:1998}.  

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "lineare-algebra"
%%% End: 
